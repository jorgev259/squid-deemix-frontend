(()=>{var e={};e.id=519,e.ids=[519],e.modules={4380:e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=4380,e.exports=t},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4300:e=>{"use strict";e.exports=require("buffer")},9523:e=>{"use strict";e.exports=require("dns")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},2682:(e,t,r)=>{"use strict";r.r(t),r.d(t,{originalPathname:()=>p,patchFetch:()=>m,requestAsyncStorage:()=>c,routeModule:()=>h,serverHooks:()=>f,staticGenerationAsyncStorage:()=>d});var s={};r.r(s),r.d(s,{GET:()=>l,revalidate:()=>u});var o=r(9303),i=r(8716),n=r(670),a=r(2260);async function l(e){let t=e.nextUrl.searchParams,r=t.get("query"),s=t.get("index")||0;if(!r)return new Response("",{status:400});let o=await (0,a.searchAlbums)(r,{index:parseInt(s)||void 0}),i={next:o.next&&o.next.split("=").pop(),total:o.total,data:o.data.map(e=>({id:e.id,title:e.title,cover:e.md5_image,artist:{id:e.artist.id,name:e.artist.name}}))};return Response.json(i)}let u=600,h=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/album/search/route",pathname:"/api/album/search",filename:"route",bundlePath:"app/api/album/search/route"},resolvedPagePath:"/home/runner/work/squid-deemix-frontend/squid-deemix-frontend/src/app/api/album/search/route.tsx",nextConfigOutput:"",userland:s}),{requestAsyncStorage:c,staticGenerationAsyncStorage:d,serverHooks:f}=h,p="/api/album/search/route";function m(){return(0,n.patchFetch)({serverHooks:f,staticGenerationAsyncStorage:d})}},2987:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"],s=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement",...r],o=["null","undefined","string","number","bigint","boolean","symbol"];function i(e){return t=>typeof t===e}let{toString:n}=Object.prototype,a=e=>{let t=n.call(e).slice(8,-1);return/HTML\w+Element/.test(t)&&u.domElement(e)?"HTMLElement":s.includes(t)?t:void 0},l=e=>t=>a(t)===e;function u(e){if(null===e)return"null";switch(typeof e){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol"}if(u.observable(e))return"Observable";if(u.array(e))return"Array";if(u.buffer(e))return"Buffer";let t=a(e);if(t)return t;if(e instanceof String||e instanceof Boolean||e instanceof Number)throw TypeError("Please don't use object wrappers for primitive types");return"Object"}u.undefined=i("undefined"),u.string=i("string");let h=i("number");u.number=e=>h(e)&&!u.nan(e),u.bigint=i("bigint"),u.function_=i("function"),u.null_=e=>null===e,u.class_=e=>u.function_(e)&&e.toString().startsWith("class "),u.boolean=e=>!0===e||!1===e,u.symbol=i("symbol"),u.numericString=e=>u.string(e)&&!u.emptyStringOrWhitespace(e)&&!Number.isNaN(Number(e)),u.array=(e,t)=>!!Array.isArray(e)&&(!u.function_(t)||e.every(t)),u.buffer=e=>{var t,r,s;return null!==(s=null===(r=null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.isBuffer)||void 0===r?void 0:r.call(t,e))&&void 0!==s&&s},u.blob=e=>l("Blob")(e),u.nullOrUndefined=e=>u.null_(e)||u.undefined(e),u.object=e=>!u.null_(e)&&("object"==typeof e||u.function_(e)),u.iterable=e=>u.function_(null==e?void 0:e[Symbol.iterator]),u.asyncIterable=e=>u.function_(null==e?void 0:e[Symbol.asyncIterator]),u.generator=e=>u.iterable(e)&&u.function_(null==e?void 0:e.next)&&u.function_(null==e?void 0:e.throw),u.asyncGenerator=e=>u.asyncIterable(e)&&u.function_(e.next)&&u.function_(e.throw),u.nativePromise=e=>l("Promise")(e);let c=e=>u.function_(null==e?void 0:e.then)&&u.function_(null==e?void 0:e.catch);u.promise=e=>u.nativePromise(e)||c(e),u.generatorFunction=l("GeneratorFunction"),u.asyncGeneratorFunction=e=>"AsyncGeneratorFunction"===a(e),u.asyncFunction=e=>"AsyncFunction"===a(e),u.boundFunction=e=>u.function_(e)&&!e.hasOwnProperty("prototype"),u.regExp=l("RegExp"),u.date=l("Date"),u.error=l("Error"),u.map=e=>l("Map")(e),u.set=e=>l("Set")(e),u.weakMap=e=>l("WeakMap")(e),u.weakSet=e=>l("WeakSet")(e),u.int8Array=l("Int8Array"),u.uint8Array=l("Uint8Array"),u.uint8ClampedArray=l("Uint8ClampedArray"),u.int16Array=l("Int16Array"),u.uint16Array=l("Uint16Array"),u.int32Array=l("Int32Array"),u.uint32Array=l("Uint32Array"),u.float32Array=l("Float32Array"),u.float64Array=l("Float64Array"),u.bigInt64Array=l("BigInt64Array"),u.bigUint64Array=l("BigUint64Array"),u.arrayBuffer=l("ArrayBuffer"),u.sharedArrayBuffer=l("SharedArrayBuffer"),u.dataView=l("DataView"),u.enumCase=(e,t)=>Object.values(t).includes(e),u.directInstanceOf=(e,t)=>Object.getPrototypeOf(e)===t.prototype,u.urlInstance=e=>l("URL")(e),u.urlString=e=>{if(!u.string(e))return!1;try{return new URL(e),!0}catch(e){return!1}},u.truthy=e=>!!e,u.falsy=e=>!e,u.nan=e=>Number.isNaN(e),u.primitive=e=>{var t;return u.null_(e)||(t=typeof e,o.includes(t))},u.integer=e=>Number.isInteger(e),u.safeInteger=e=>Number.isSafeInteger(e),u.plainObject=e=>{if("[object Object]"!==n.call(e))return!1;let t=Object.getPrototypeOf(e);return null===t||t===Object.getPrototypeOf({})},u.typedArray=e=>{var t;return t=a(e),r.includes(t)};let d=e=>u.safeInteger(e)&&e>=0;u.arrayLike=e=>!u.nullOrUndefined(e)&&!u.function_(e)&&d(e.length),u.inRange=(e,t)=>{if(u.number(t))return e>=Math.min(0,t)&&e<=Math.max(t,0);if(u.array(t)&&2===t.length)return e>=Math.min(...t)&&e<=Math.max(...t);throw TypeError(`Invalid range: ${JSON.stringify(t)}`)};let f=["innerHTML","ownerDocument","style","attributes","nodeValue"];u.domElement=e=>u.object(e)&&1===e.nodeType&&u.string(e.nodeName)&&!u.plainObject(e)&&f.every(t=>t in e),u.observable=e=>{var t,r;return!!e&&(e===(null===(t=e[Symbol.observable])||void 0===t?void 0:t.call(e))||e===(null===(r=e["@@observable"])||void 0===r?void 0:r.call(e)))},u.nodeStream=e=>u.object(e)&&u.function_(e.pipe)&&!u.observable(e),u.infinite=e=>e===1/0||e===-1/0;let p=e=>t=>u.integer(t)&&Math.abs(t%2)===e;u.evenInteger=p(0),u.oddInteger=p(1),u.emptyArray=e=>u.array(e)&&0===e.length,u.nonEmptyArray=e=>u.array(e)&&e.length>0,u.emptyString=e=>u.string(e)&&0===e.length;let m=e=>u.string(e)&&!/\S/.test(e);u.emptyStringOrWhitespace=e=>u.emptyString(e)||m(e),u.nonEmptyString=e=>u.string(e)&&e.length>0,u.nonEmptyStringAndNotWhitespace=e=>u.string(e)&&!u.emptyStringOrWhitespace(e),u.emptyObject=e=>u.object(e)&&!u.map(e)&&!u.set(e)&&0===Object.keys(e).length,u.nonEmptyObject=e=>u.object(e)&&!u.map(e)&&!u.set(e)&&Object.keys(e).length>0,u.emptySet=e=>u.set(e)&&0===e.size,u.nonEmptySet=e=>u.set(e)&&e.size>0,u.emptyMap=e=>u.map(e)&&0===e.size,u.nonEmptyMap=e=>u.map(e)&&e.size>0,u.propertyKey=e=>u.any([u.string,u.number,u.symbol],e),u.formData=e=>l("FormData")(e),u.urlSearchParams=e=>l("URLSearchParams")(e);let y=(e,t,r)=>{if(!u.function_(t))throw TypeError(`Invalid predicate: ${JSON.stringify(t)}`);if(0===r.length)throw TypeError("Invalid number of values");return e.call(r,t)};u.any=(e,...t)=>(u.array(e)?e:[e]).some(e=>y(Array.prototype.some,e,t)),u.all=(e,...t)=>y(Array.prototype.every,e,t);let g=(e,t,r,s={})=>{if(!e){let{multipleValues:e}=s,o=e?`received values of types ${[...new Set(r.map(e=>`\`${u(e)}\``))].join(", ")}`:`received value of type \`${u(r)}\``;throw TypeError(`Expected value which is \`${t}\`, ${o}.`)}};t.assert={undefined:e=>g(u.undefined(e),"undefined",e),string:e=>g(u.string(e),"string",e),number:e=>g(u.number(e),"number",e),bigint:e=>g(u.bigint(e),"bigint",e),function_:e=>g(u.function_(e),"Function",e),null_:e=>g(u.null_(e),"null",e),class_:e=>g(u.class_(e),"Class",e),boolean:e=>g(u.boolean(e),"boolean",e),symbol:e=>g(u.symbol(e),"symbol",e),numericString:e=>g(u.numericString(e),"string with a number",e),array:(e,t)=>{g(u.array(e),"Array",e),t&&e.forEach(t)},buffer:e=>g(u.buffer(e),"Buffer",e),blob:e=>g(u.blob(e),"Blob",e),nullOrUndefined:e=>g(u.nullOrUndefined(e),"null or undefined",e),object:e=>g(u.object(e),"Object",e),iterable:e=>g(u.iterable(e),"Iterable",e),asyncIterable:e=>g(u.asyncIterable(e),"AsyncIterable",e),generator:e=>g(u.generator(e),"Generator",e),asyncGenerator:e=>g(u.asyncGenerator(e),"AsyncGenerator",e),nativePromise:e=>g(u.nativePromise(e),"native Promise",e),promise:e=>g(u.promise(e),"Promise",e),generatorFunction:e=>g(u.generatorFunction(e),"GeneratorFunction",e),asyncGeneratorFunction:e=>g(u.asyncGeneratorFunction(e),"AsyncGeneratorFunction",e),asyncFunction:e=>g(u.asyncFunction(e),"AsyncFunction",e),boundFunction:e=>g(u.boundFunction(e),"Function",e),regExp:e=>g(u.regExp(e),"RegExp",e),date:e=>g(u.date(e),"Date",e),error:e=>g(u.error(e),"Error",e),map:e=>g(u.map(e),"Map",e),set:e=>g(u.set(e),"Set",e),weakMap:e=>g(u.weakMap(e),"WeakMap",e),weakSet:e=>g(u.weakSet(e),"WeakSet",e),int8Array:e=>g(u.int8Array(e),"Int8Array",e),uint8Array:e=>g(u.uint8Array(e),"Uint8Array",e),uint8ClampedArray:e=>g(u.uint8ClampedArray(e),"Uint8ClampedArray",e),int16Array:e=>g(u.int16Array(e),"Int16Array",e),uint16Array:e=>g(u.uint16Array(e),"Uint16Array",e),int32Array:e=>g(u.int32Array(e),"Int32Array",e),uint32Array:e=>g(u.uint32Array(e),"Uint32Array",e),float32Array:e=>g(u.float32Array(e),"Float32Array",e),float64Array:e=>g(u.float64Array(e),"Float64Array",e),bigInt64Array:e=>g(u.bigInt64Array(e),"BigInt64Array",e),bigUint64Array:e=>g(u.bigUint64Array(e),"BigUint64Array",e),arrayBuffer:e=>g(u.arrayBuffer(e),"ArrayBuffer",e),sharedArrayBuffer:e=>g(u.sharedArrayBuffer(e),"SharedArrayBuffer",e),dataView:e=>g(u.dataView(e),"DataView",e),enumCase:(e,t)=>g(u.enumCase(e,t),"EnumCase",e),urlInstance:e=>g(u.urlInstance(e),"URL",e),urlString:e=>g(u.urlString(e),"string with a URL",e),truthy:e=>g(u.truthy(e),"truthy",e),falsy:e=>g(u.falsy(e),"falsy",e),nan:e=>g(u.nan(e),"NaN",e),primitive:e=>g(u.primitive(e),"primitive",e),integer:e=>g(u.integer(e),"integer",e),safeInteger:e=>g(u.safeInteger(e),"integer",e),plainObject:e=>g(u.plainObject(e),"plain object",e),typedArray:e=>g(u.typedArray(e),"TypedArray",e),arrayLike:e=>g(u.arrayLike(e),"array-like",e),domElement:e=>g(u.domElement(e),"HTMLElement",e),observable:e=>g(u.observable(e),"Observable",e),nodeStream:e=>g(u.nodeStream(e),"Node.js Stream",e),infinite:e=>g(u.infinite(e),"infinite number",e),emptyArray:e=>g(u.emptyArray(e),"empty array",e),nonEmptyArray:e=>g(u.nonEmptyArray(e),"non-empty array",e),emptyString:e=>g(u.emptyString(e),"empty string",e),emptyStringOrWhitespace:e=>g(u.emptyStringOrWhitespace(e),"empty string or whitespace",e),nonEmptyString:e=>g(u.nonEmptyString(e),"non-empty string",e),nonEmptyStringAndNotWhitespace:e=>g(u.nonEmptyStringAndNotWhitespace(e),"non-empty string and not whitespace",e),emptyObject:e=>g(u.emptyObject(e),"empty object",e),nonEmptyObject:e=>g(u.nonEmptyObject(e),"non-empty object",e),emptySet:e=>g(u.emptySet(e),"empty set",e),nonEmptySet:e=>g(u.nonEmptySet(e),"non-empty set",e),emptyMap:e=>g(u.emptyMap(e),"empty map",e),nonEmptyMap:e=>g(u.nonEmptyMap(e),"non-empty map",e),propertyKey:e=>g(u.propertyKey(e),"PropertyKey",e),formData:e=>g(u.formData(e),"FormData",e),urlSearchParams:e=>g(u.urlSearchParams(e),"URLSearchParams",e),evenInteger:e=>g(u.evenInteger(e),"even integer",e),oddInteger:e=>g(u.oddInteger(e),"odd integer",e),directInstanceOf:(e,t)=>g(u.directInstanceOf(e,t),"T",e),inRange:(e,t)=>g(u.inRange(e,t),"in range",e),any:(e,...t)=>g(u.any(e,...t),"predicate returns truthy for any value",t,{multipleValues:!0}),all:(e,...t)=>g(u.all(e,...t),"predicate returns truthy for all values",t,{multipleValues:!0})},Object.defineProperties(u,{class:{value:u.class_},function:{value:u.function_},null:{value:u.null_}}),Object.defineProperties(t.assert,{class:{value:t.assert.class_},function:{value:t.assert.function_},null:{value:t.assert.null_}}),t.default=u,e.exports=u,e.exports.default=u,e.exports.assert=t.assert},9021:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let s=r(7300),o=r(3837),i=Number(process.versions.node.split(".")[0]),n=e=>{if(e.timings)return e.timings;let t={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};e.timings=t;let r=e=>{let r=e.emit.bind(e);e.emit=(s,...o)=>("error"===s&&(t.error=Date.now(),t.phases.total=t.error-t.start,e.emit=r),r(s,...o))};r(e);let n=()=>{t.abort=Date.now(),(!t.response||i>=13)&&(t.phases.total=Date.now()-t.start)};e.prependOnceListener("abort",n);let a=e=>{if(t.socket=Date.now(),t.phases.wait=t.socket-t.start,o.types.isProxy(e))return;let r=()=>{t.lookup=Date.now(),t.phases.dns=t.lookup-t.socket};e.prependOnceListener("lookup",r),s.default(e,{connect:()=>{t.connect=Date.now(),void 0===t.lookup&&(e.removeListener("lookup",r),t.lookup=t.connect,t.phases.dns=t.lookup-t.socket),t.phases.tcp=t.connect-t.lookup},secureConnect:()=>{t.secureConnect=Date.now(),t.phases.tls=t.secureConnect-t.connect}})};e.socket?a(e.socket):e.prependOnceListener("socket",a);let l=()=>{var e;t.upload=Date.now(),t.phases.request=t.upload-(null!==(e=t.secureConnect)&&void 0!==e?e:t.connect)};return("boolean"==typeof e.writableFinished?e.writableFinished:e.finished&&0===e.outputSize&&(!e.socket||0===e.socket.writableLength))?l():e.prependOnceListener("finish",l),e.prependOnceListener("response",e=>{t.response=Date.now(),t.phases.firstByte=t.response-t.upload,e.timings=t,r(e),e.prependOnceListener("end",()=>{t.end=Date.now(),t.phases.download=t.end-t.response,t.phases.total=t.end-t.start}),e.prependOnceListener("aborted",n)}),t};t.default=n,e.exports=n,e.exports.default=n},2456:(e,t,r)=>{"use strict";let{V4MAPPED:s,ADDRCONFIG:o,ALL:i,promises:{Resolver:n},lookup:a}=r(9523),{promisify:l}=r(3837),u=r(2037),h=Symbol("cacheableLookupCreateConnection"),c=Symbol("cacheableLookupInstance"),d=Symbol("expires"),f="number"==typeof i,p=e=>{if(!(e&&"function"==typeof e.createConnection))throw Error("Expected an Agent instance as the first argument")},m=e=>{for(let t of e)6!==t.family&&(t.address=`::ffff:${t.address}`,t.family=6)},y=()=>{let e=!1,t=!1;for(let r of Object.values(u.networkInterfaces()))for(let s of r)if(!s.internal&&("IPv6"===s.family?t=!0:e=!0,e&&t))return{has4:e,has6:t};return{has4:e,has6:t}},g=e=>Symbol.iterator in e,b={ttl:!0},_={all:!0};class v{constructor({cache:e=new Map,maxTtl:t=1/0,fallbackDuration:r=3600,errorTtl:s=.15,resolver:o=new n,lookup:i=a}={}){if(this.maxTtl=t,this.errorTtl=s,this._cache=e,this._resolver=o,this._dnsLookup=l(i),this._resolver instanceof n?(this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver)):(this._resolve4=l(this._resolver.resolve4.bind(this._resolver)),this._resolve6=l(this._resolver.resolve6.bind(this._resolver))),this._iface=y(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,r<1)this._fallback=!1;else{this._fallback=!0;let e=setInterval(()=>{this._hostnamesToFallback.clear()},1e3*r);e.unref&&e.unref()}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(e){this.clear(),this._resolver.setServers(e)}get servers(){return this._resolver.getServers()}lookup(e,t,r){if("function"==typeof t?(r=t,t={}):"number"==typeof t&&(t={family:t}),!r)throw Error("Callback must be a function.");this.lookupAsync(e,t).then(e=>{t.all?r(null,e):r(null,e.address,e.family,e.expires,e.ttl)},r)}async lookupAsync(e,t={}){"number"==typeof t&&(t={family:t});let r=await this.query(e);if(6===t.family){let e=r.filter(e=>6===e.family);t.hints&s&&(f&&t.hints&i||0===e.length)?m(r):r=e}else 4===t.family&&(r=r.filter(e=>4===e.family));if(t.hints&o){let{_iface:e}=this;r=r.filter(t=>6===t.family?e.has6:e.has4)}if(0===r.length){let t=Error(`cacheableLookup ENOTFOUND ${e}`);throw t.code="ENOTFOUND",t.hostname=e,t}return t.all?r:r[0]}async query(e){let t=await this._cache.get(e);if(!t){let r=this._pending[e];if(r)t=await r;else{let r=this.queryAndCache(e);this._pending[e]=r;try{t=await r}finally{delete this._pending[e]}}}return t.map(e=>({...e}))}async _resolve(e){let t=async e=>{try{return await e}catch(e){if("ENODATA"===e.code||"ENOTFOUND"===e.code)return[];throw e}},[r,s]=await Promise.all([this._resolve4(e,b),this._resolve6(e,b)].map(e=>t(e))),o=0,i=0,n=0,a=Date.now();for(let e of r)e.family=4,e.expires=a+1e3*e.ttl,o=Math.max(o,e.ttl);for(let e of s)e.family=6,e.expires=a+1e3*e.ttl,i=Math.max(i,e.ttl);return n=r.length>0?s.length>0?Math.min(o,i):o:i,{entries:[...r,...s],cacheTtl:n}}async _lookup(e){try{return{entries:await this._dnsLookup(e,{all:!0}),cacheTtl:0}}catch(e){return{entries:[],cacheTtl:0}}}async _set(e,t,r){if(this.maxTtl>0&&r>0){r=1e3*Math.min(r,this.maxTtl),t[d]=Date.now()+r;try{await this._cache.set(e,t,r)}catch(e){this.lookupAsync=async()=>{let t=Error("Cache Error. Please recreate the CacheableLookup instance.");throw t.cause=e,t}}g(this._cache)&&this._tick(r)}}async queryAndCache(e){if(this._hostnamesToFallback.has(e))return this._dnsLookup(e,_);let t=await this._resolve(e);0===t.entries.length&&this._fallback&&0!==(t=await this._lookup(e)).entries.length&&this._hostnamesToFallback.add(e);let r=0===t.entries.length?this.errorTtl:t.cacheTtl;return await this._set(e,t.entries,r),t.entries}_tick(e){let t=this._nextRemovalTime;(!t||e<t)&&(clearTimeout(this._removalTimeout),this._nextRemovalTime=e,this._removalTimeout=setTimeout(()=>{this._nextRemovalTime=!1;let e=1/0,t=Date.now();for(let[r,s]of this._cache){let o=s[d];t>=o?this._cache.delete(r):o<e&&(e=o)}e!==1/0&&this._tick(e-t)},e),this._removalTimeout.unref&&this._removalTimeout.unref())}install(e){if(p(e),h in e)throw Error("CacheableLookup has been already installed");e[h]=e.createConnection,e[c]=this,e.createConnection=(t,r)=>("lookup"in t||(t.lookup=this.lookup),e[h](t,r))}uninstall(e){if(p(e),e[h]){if(e[c]!==this)throw Error("The agent is not owned by this CacheableLookup instance");e.createConnection=e[h],delete e[h],delete e[c]}}updateInterfaceInfo(){let{_iface:e}=this;this._iface=y(),(e.has4&&!this._iface.has4||e.has6&&!this._iface.has6)&&this._cache.clear()}clear(e){if(e){this._cache.delete(e);return}this._cache.clear()}}e.exports=v,e.exports.default=v},8538:(e,t,r)=>{"use strict";let s=r(2361),o=r(7310),i=r(3359),n=r(8621),a=r(2988),l=r(8713),u=r(2278),h=r(8095),c=r(2067);class d{constructor(e,t){if("function"!=typeof e)throw TypeError("Parameter `request` must be a function");return this.cache=new c({uri:"string"==typeof t&&t,store:"string"!=typeof t&&t,namespace:"cacheable-request"}),this.createCacheableRequest(e)}createCacheableRequest(e){return(t,r)=>{let c;if("string"==typeof t)c=f(o.parse(t)),t={};else if(t instanceof o.URL)c=f(o.parse(t.toString())),t={};else{let[e,...r]=(t.path||"").split("?"),s=r.length>0?`?${r.join("?")}`:"";c=f({...t,pathname:e,search:s})}(t={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...t,...function(e){let t={...e};return t.path=`${e.pathname||"/"}${e.search||""}`,delete t.pathname,delete t.search,t}(c)}).headers=u(t.headers);let p=new s,m=i(o.format(c),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),y=`${t.method}:${m}`,g=!1,b=!1,_=t=>{let s;b=!0;let o=!1,i=new Promise(e=>{s=()=>{o||(o=!0,e())}});try{let u=e(t,e=>{let s;if(g&&!t.forceRefresh){e.status=e.statusCode;let r=a.fromObject(g.cachePolicy).revalidatedPolicy(t,e);if(!r.modified){let t=r.policy.responseHeaders();(e=new l(g.statusCode,t,g.body,g.url)).cachePolicy=r.policy,e.fromCache=!0}}e.fromCache||(e.cachePolicy=new a(t,e,t),e.fromCache=!1),t.cache&&e.cachePolicy.storable()?(s=h(e),(async()=>{try{let r=n.buffer(e);if(await Promise.race([i,new Promise(t=>e.once("end",t))]),o)return;let s=await r,a={cachePolicy:e.cachePolicy.toObject(),url:e.url,statusCode:e.fromCache?g.statusCode:e.statusCode,body:s},l=t.strictTtl?e.cachePolicy.timeToLive():void 0;t.maxTtl&&(l=l?Math.min(l,t.maxTtl):t.maxTtl),await this.cache.set(y,a,l)}catch(e){p.emit("error",new d.CacheError(e))}})()):t.cache&&g&&(async()=>{try{await this.cache.delete(y)}catch(e){p.emit("error",new d.CacheError(e))}})(),p.emit("response",s||e),"function"==typeof r&&r(s||e)});u.once("error",s),u.once("abort",s),p.emit("request",u)}catch(e){p.emit("error",new d.RequestError(e))}};return(async()=>{let e=async e=>{await Promise.resolve();let t=e.cache?await this.cache.get(y):void 0;if(void 0===t)return _(e);let s=a.fromObject(t.cachePolicy);if(s.satisfiesWithoutRevalidation(e)&&!e.forceRefresh){let e=s.responseHeaders(),o=new l(t.statusCode,e,t.body,t.url);o.cachePolicy=s,o.fromCache=!0,p.emit("response",o),"function"==typeof r&&r(o)}else g=t,e.headers=s.revalidationHeaders(e),_(e)},s=e=>p.emit("error",new d.CacheError(e));this.cache.once("error",s),p.on("response",()=>this.cache.removeListener("error",s));try{await e(t)}catch(e){t.automaticFailover&&!b&&_(t),p.emit("error",new d.CacheError(e))}})(),p}}}function f(e){return{protocol:e.protocol,auth:e.auth,hostname:e.hostname||e.host||"localhost",port:e.port,pathname:e.pathname,search:e.search}}d.RequestError=class extends Error{constructor(e){super(e.message),this.name="RequestError",Object.assign(this,e)}},d.CacheError=class extends Error{constructor(e){super(e.message),this.name="CacheError",Object.assign(this,e)}},e.exports=d},8095:(e,t,r)=>{"use strict";let s=r(2781).PassThrough,o=r(6054);e.exports=e=>{if(!(e&&e.pipe))throw TypeError("Parameter `response` must be a response stream.");let t=new s;return o(e,t),e.pipe(t)}},991:(e,t,r)=>{"use strict";let{Transform:s,PassThrough:o}=r(2781),i=r(9796),n=r(5830);e.exports=e=>{let t=(e.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(t))return e;let r="br"===t;if(r&&"function"!=typeof i.createBrotliDecompress)return e.destroy(Error("Brotli is not supported on Node.js < 12")),e;let a=!0,l=new s({transform(e,t,r){a=!1,r(null,e)},flush(e){e()}}),u=new o({autoDestroy:!1,destroy(t,r){e.destroy(),r(t)}}),h=r?i.createBrotliDecompress():i.createUnzip();return h.once("error",t=>{if(a&&!e.readable){u.end();return}u.destroy(t)}),n(e,u),e.pipe(l).pipe(h).pipe(u),u}},5830:e=>{"use strict";let t=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];e.exports=(e,r)=>{if(r._readableState.autoDestroy)throw Error("The second stream must have the `autoDestroy` option set to `false`");let s=new Set(Object.keys(e).concat(t)),o={};for(let t of s)t in r||(o[t]={get(){let r=e[t];return"function"==typeof r?r.bind(e):r},set(r){e[t]=r},enumerable:!0,configurable:!1});return Object.defineProperties(r,o),e.once("aborted",()=>{r.destroy(),r.emit("aborted")}),e.once("close",()=>{e.complete&&r.readable?r.once("end",()=>{r.emit("close")}):r.emit("close")}),r}},2260:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(3962),t),o(r(8394),t),o(r(8184),t),o(r(9462),t)},3962:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getAlbumFans=t.getAlbumTracks=t.getAlbum=void 0;let o=s(r(6980));t.getAlbum=function(e){return o.default(`https://api.deezer.com/album/${e}`).json()},t.getAlbumTracks=function(e){return o.default(`https://api.deezer.com/album/${e}/tracks`).json()},t.getAlbumFans=function(e){return o.default(`https://api.deezer.com/album/${e}/fans`).json()}},8394:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getArtistAlbums=t.getArtist=void 0;let o=s(r(6980));t.getArtist=function(e){return o.default(`https://api.deezer.com/artist/${e}`).json()},t.getArtistAlbums=function(e){return o.default(`https://api.deezer.com/artist/${e}/albums`).json()}},8184:function(e,t,r){"use strict";var s,o,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.searchPodcasts=t.searchPlaylists=t.searchTracks=t.searchArtists=t.searchAlbums=void 0;let n=i(r(6980));async function a(e,t,r){let s="string"==typeof t?t:Object.keys(t).map(e=>(function(e,t){let r="string"==typeof t?`"${t}"`:t;return`${e}:${r}`})(e,t[e])).join(" "),o={...r,q:s};return n.default("https://api.deezer.com/search/"+e,{searchParams:o}).json()}t.searchAlbums=function(e,t){return a("album",e,t)},t.searchArtists=function(e,t){return a("artist",e,t)},t.searchTracks=function(e,t){return a("track",e,t)},t.searchPlaylists=function(e,t){return a("playlist",e,t)},t.searchPodcasts=function(e,t){return a("playlist",e,t)},(s=o||(o={})).RANKING="RANKING",s.TRACK_ASC="TRACK_ASC",s.TRACK_DESC="TRACK_DESC",s.ARTIST_ASC="ARTIST_ASC",s.ARTIST_DESC="ARTIST_DESC",s.ALBUM_ASC="ALBUM_ASC",s.ALBUM_DESC="ALBUM_DESC",s.RATING_ASC="RATING_ASC",s.RATING_DESC="RATING_DESC",s.DURATION_ASC="DURATION_ASC",s.DURATION_DESC="DURATION_DESC"},9462:function(e,t,r){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getTrack=void 0;let o=s(r(6980));t.getTrack=function(e){return o.default(`https://api.deezer.com/track/${e}`).json()}},7300:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=(e,t)=>{let r;let s="function"==typeof(r="function"==typeof t?{connect:t}:t).connect,o="function"==typeof r.secureConnect,i="function"==typeof r.close,n=()=>{s&&r.connect(),e.encrypted&&o&&(e.authorized?r.secureConnect():e.authorizationError||e.once("secureConnect",r.secureConnect)),i&&e.once("close",r.close)};e.writable&&!e.connecting?n():e.connecting?e.once("connect",n):e.destroyed&&i&&r.close(e._hadError)};t.default=r,e.exports=r,e.exports.default=r},4949:(e,t,r)=>{var s=r(7337),o=function(){},i=function(e,t,r){if("function"==typeof t)return i(e,null,t);t||(t={}),r=s(r||o);var n=e._writableState,a=e._readableState,l=t.readable||!1!==t.readable&&e.readable,u=t.writable||!1!==t.writable&&e.writable,h=!1,c=function(){e.writable||d()},d=function(){u=!1,l||r.call(e)},f=function(){l=!1,u||r.call(e)},p=function(t){r.call(e,t?Error("exited with error code: "+t):null)},m=function(t){r.call(e,t)},y=function(){process.nextTick(g)},g=function(){if(!h&&(l&&!(a&&a.ended&&!a.destroyed)||u&&!(n&&n.ended&&!n.destroyed)))return r.call(e,Error("premature close"))},b=function(){e.req.on("finish",d)};return e.setHeader&&"function"==typeof e.abort?(e.on("complete",d),e.on("abort",y),e.req?b():e.on("request",b)):u&&!n&&(e.on("end",c),e.on("close",c)),e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length&&e.on("exit",p),e.on("end",f),e.on("finish",d),!1!==t.error&&e.on("error",m),e.on("close",y),function(){h=!0,e.removeListener("complete",d),e.removeListener("abort",y),e.removeListener("request",b),e.req&&e.req.removeListener("finish",d),e.removeListener("end",c),e.removeListener("close",c),e.removeListener("finish",d),e.removeListener("exit",p),e.removeListener("end",f),e.removeListener("error",m),e.removeListener("close",y)}};e.exports=i},2737:(e,t,r)=>{"use strict";let{PassThrough:s}=r(2781);e.exports=e=>{let{array:t}=e={...e},{encoding:r}=e,o="buffer"===r,i=!1;t?i=!(r||o):r=r||"utf8",o&&(r=null);let n=new s({objectMode:i});r&&n.setEncoding(r);let a=0,l=[];return n.on("data",e=>{l.push(e),i?a=l.length:a+=e.length}),n.getBufferedValue=()=>t?l:o?Buffer.concat(l,a):l.join(""),n.getBufferedLength=()=>a,n}},8621:(e,t,r)=>{"use strict";let{constants:s}=r(4300),o=r(8597),i=r(2737);class n extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function a(e,t){let r;if(!e)return Promise.reject(Error("Expected a stream"));let{maxBuffer:a}=t={maxBuffer:1/0,...t};return await new Promise((l,u)=>{let h=e=>{e&&r.getBufferedLength()<=s.MAX_LENGTH&&(e.bufferedData=r.getBufferedValue()),u(e)};(r=o(e,i(t),e=>{if(e){h(e);return}l()})).on("data",()=>{r.getBufferedLength()>a&&h(new n)})}),r.getBufferedValue()}e.exports=a,e.exports.default=a,e.exports.buffer=(e,t)=>a(e,{...t,encoding:"buffer"}),e.exports.array=(e,t)=>a(e,{...t,array:!0}),e.exports.MaxBufferError=n},4221:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let s=r(4247);t.default=function(e,...t){let r=(async()=>{if(e instanceof s.RequestError)try{for(let r of t)if(r)for(let t of r)e=await t(e)}catch(t){e=t}throw e})(),o=()=>r;return r.json=o,r.text=o,r.buffer=o,r.on=o,r}},6246:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0});let i=r(2361),n=r(2987),a=r(9192),l=r(4247),u=r(3022),h=r(2730),c=r(5359),d=r(8284),f=r(2426),p=["request","response","redirect","uploadProgress","downloadProgress"];t.default=function e(t){let r,s;let o=new i.EventEmitter,m=new a((i,a,y)=>{let g=b=>{let _=new h.default(void 0,t);_.retryCount=b,_._noPipe=!0,y(()=>_.destroy()),y.shouldReject=!1,y(()=>a(new l.CancelError(_))),r=_,_.once("response",async t=>{var r;let o;if(t.retryCount=b,t.request.aborted)return;try{o=await d.default(_),t.rawBody=o}catch(e){return}if(_._isAboutToError)return;let n=["gzip","deflate","br"].includes((null!==(r=t.headers["content-encoding"])&&void 0!==r?r:"").toLowerCase()),{options:a}=_;if(n&&!a.decompress)t.body=o;else try{t.body=u.default(t,a.responseType,a.parseJson,a.encoding)}catch(e){if(t.body=o.toString(),f.isResponseOk(t)){_._beforeError(e);return}}try{for(let[r,s]of a.hooks.afterResponse.entries())t=await s(t,async t=>{let s=h.default.normalizeArguments(void 0,{...t,retry:{calculateDelay:()=>0},throwHttpErrors:!1,resolveBodyOnly:!1},a);for(let e of(s.hooks.afterResponse=s.hooks.afterResponse.slice(0,r),s.hooks.beforeRetry))await e(s);let o=e(s);return y(()=>{o.catch(()=>{}),o.cancel()}),o})}catch(e){_._beforeError(new l.RequestError(e.message,e,_));return}if(s=t,!f.isResponseOk(t)){_._beforeError(new l.HTTPError(t));return}_.destroy(),i(_.options.resolveBodyOnly?t.body:t)});let v=e=>{if(m.isCanceled)return;let{options:t}=_;if(e instanceof l.HTTPError&&!t.throwHttpErrors){let{response:t}=e;i(_.options.resolveBodyOnly?t.body:t);return}a(e)};_.once("error",v);let w=_.options.body;_.once("retry",(e,t)=>{var r,s;if(w===(null===(r=t.request)||void 0===r?void 0:r.options.body)&&n.default.nodeStream(null===(s=t.request)||void 0===s?void 0:s.options.body)){v(t);return}g(e)}),c.default(_,o,p)};g(0)});m.on=(e,t)=>(o.on(e,t),m);let y=e=>{let t=(async()=>{await m;let{options:t}=s.request;return u.default(s,e,t.parseJson,t.encoding)})();return Object.defineProperties(t,Object.getOwnPropertyDescriptors(m)),t};return m.json=()=>{let{headers:e}=r.options;return r.writableFinished||void 0!==e.accept||(e.accept="application/json"),y("json")},m.buffer=()=>y("buffer"),m.text=()=>y("text"),m},o(r(4247),t)},2052:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let s=r(2987);t.default=(e,t)=>{if(s.default.null_(e.encoding))throw TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");s.assert.any([s.default.string,s.default.undefined],e.encoding),s.assert.any([s.default.boolean,s.default.undefined],e.resolveBodyOnly),s.assert.any([s.default.boolean,s.default.undefined],e.methodRewriting),s.assert.any([s.default.boolean,s.default.undefined],e.isStream),s.assert.any([s.default.string,s.default.undefined],e.responseType),void 0===e.responseType&&(e.responseType="text");let{retry:r}=e;if(t?e.retry={...t.retry}:e.retry={calculateDelay:e=>e.computedValue,limit:0,methods:[],statusCodes:[],errorCodes:[],maxRetryAfter:void 0},s.default.object(r)?(e.retry={...e.retry,...r},e.retry.methods=[...new Set(e.retry.methods.map(e=>e.toUpperCase()))],e.retry.statusCodes=[...new Set(e.retry.statusCodes)],e.retry.errorCodes=[...new Set(e.retry.errorCodes)]):s.default.number(r)&&(e.retry.limit=r),s.default.undefined(e.retry.maxRetryAfter)&&(e.retry.maxRetryAfter=Math.min(...[e.timeout.request,e.timeout.connect].filter(s.default.number))),s.default.object(e.pagination)){t&&(e.pagination={...t.pagination,...e.pagination});let{pagination:r}=e;if(!s.default.function_(r.transform))throw Error("`options.pagination.transform` must be implemented");if(!s.default.function_(r.shouldContinue))throw Error("`options.pagination.shouldContinue` must be implemented");if(!s.default.function_(r.filter))throw TypeError("`options.pagination.filter` must be implemented");if(!s.default.function_(r.paginate))throw Error("`options.pagination.paginate` must be implemented")}return"json"===e.responseType&&void 0===e.headers.accept&&(e.headers.accept="application/json"),e}},3022:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let s=r(4247);t.default=(e,t,r,o)=>{let{rawBody:i}=e;try{if("text"===t)return i.toString(o);if("json"===t)return 0===i.length?"":r(i.toString());if("buffer"===t)return i;throw new s.ParseError({message:`Unknown body type '${t}'`,name:"Error"},e)}catch(t){throw new s.ParseError(t,e)}}},4247:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.CancelError=t.ParseError=void 0;let i=r(2730);class n extends i.RequestError{constructor(e,t){let{options:r}=t.request;super(`${e.message} in "${r.url.toString()}"`,e,t.request),this.name="ParseError",this.code="ERR_GOT_REQUEST_ERROR"===this.code?"ERR_BODY_PARSE_FAILURE":this.code}}t.ParseError=n;class a extends i.RequestError{constructor(e){super("Promise was canceled",{},e),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}}t.CancelError=a,o(r(2730),t)},953:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retryAfterStatusCodes=void 0,t.retryAfterStatusCodes=new Set([413,429,503]),t.default=({attemptCount:e,retryOptions:t,error:r,retryAfter:s})=>{if(e>t.limit)return 0;let o=t.methods.includes(r.options.method),i=t.errorCodes.includes(r.code),n=r.response&&t.statusCodes.includes(r.response.statusCode);if(!o||!i&&!n)return 0;if(r.response){if(s)return void 0===t.maxRetryAfter||s>t.maxRetryAfter?0:s;if(413===r.response.statusCode)return 0}return 2**(e-1)*1e3+100*Math.random()}},2730:(e,t,r)=>{"use strict";let s;Object.defineProperty(t,"__esModule",{value:!0}),t.UnsupportedProtocolError=t.ReadError=t.TimeoutError=t.UploadError=t.CacheError=t.HTTPError=t.MaxRedirectsError=t.RequestError=t.setNonEnumerableProperties=t.knownHookEvents=t.withoutBody=t.kIsNormalizedAlready=void 0;let o=r(3837),i=r(2781),n=r(7147),a=r(7310),l=r(3685),u=r(3685),h=r(5687),c=r(9021),d=r(2456),f=r(8538),p=r(991),m=r(7484),y=r(2278),g=r(2987),b=r(5139),_=r(8786),v=r(5359),w=r(9277),E=r(7047),S=r(1201),x=r(3836),k=r(8284),A=r(8279),T=r(2426),P=r(8298),C=r(2052),R=r(953),O=Symbol("request"),j=Symbol("response"),q=Symbol("responseSize"),H=Symbol("downloadedSize"),I=Symbol("bodySize"),U=Symbol("uploadedSize"),L=Symbol("serverResponsesPiped"),M=Symbol("unproxyEvents"),D=Symbol("isFromCache"),N=Symbol("cancelTimeouts"),$=Symbol("startedReading"),z=Symbol("stopReading"),B=Symbol("triggerRead"),F=Symbol("body"),W=Symbol("jobs"),G=Symbol("originalResponse"),V=Symbol("retryTimeout");t.kIsNormalizedAlready=Symbol("isNormalizedAlready");let J=g.default.string(process.versions.brotli);t.withoutBody=new Set(["GET","HEAD"]),t.knownHookEvents=["init","beforeRequest","beforeRedirect","beforeError","beforeRetry","afterResponse"];let K=new x.default,Q=async e=>new Promise((t,r)=>{let s=e=>{r(e)};e.pending||t(),e.once("error",s),e.once("ready",()=>{e.off("error",s),t()})}),X=new Set([300,301,302,303,304,307,308]),Y=["context","body","json","form"];t.setNonEnumerableProperties=(e,t)=>{let r={};for(let t of e)if(t)for(let e of Y)e in t&&(r[e]={writable:!0,configurable:!0,enumerable:!1,value:t[e]});Object.defineProperties(t,r)};class Z extends Error{constructor(e,t,r){var s,o;if(super(e),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=null!==(s=t.code)&&void 0!==s?s:"ERR_GOT_REQUEST_ERROR",r instanceof el?(Object.defineProperty(this,"request",{enumerable:!1,value:r}),Object.defineProperty(this,"response",{enumerable:!1,value:r[j]}),Object.defineProperty(this,"options",{enumerable:!1,value:r.options})):Object.defineProperty(this,"options",{enumerable:!1,value:r}),this.timings=null===(o=this.request)||void 0===o?void 0:o.timings,g.default.string(t.stack)&&g.default.string(this.stack)){let e=this.stack.indexOf(this.message)+this.message.length,r=this.stack.slice(e).split("\n").reverse(),s=t.stack.slice(t.stack.indexOf(t.message)+t.message.length).split("\n").reverse();for(;0!==s.length&&s[0]===r[0];)r.shift();this.stack=`${this.stack.slice(0,e)}${r.reverse().join("\n")}${s.reverse().join("\n")}`}}}t.RequestError=Z;class ee extends Z{constructor(e){super(`Redirected ${e.options.maxRedirects} times. Aborting.`,{},e),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}}t.MaxRedirectsError=ee;class et extends Z{constructor(e){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},e.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}}t.HTTPError=et;class er extends Z{constructor(e,t){super(e.message,e,t),this.name="CacheError",this.code="ERR_GOT_REQUEST_ERROR"===this.code?"ERR_CACHE_ACCESS":this.code}}t.CacheError=er;class es extends Z{constructor(e,t){super(e.message,e,t),this.name="UploadError",this.code="ERR_GOT_REQUEST_ERROR"===this.code?"ERR_UPLOAD":this.code}}t.UploadError=es;class eo extends Z{constructor(e,t,r){super(e.message,e,r),this.name="TimeoutError",this.event=e.event,this.timings=t}}t.TimeoutError=eo;class ei extends Z{constructor(e,t){super(e.message,e,t),this.name="ReadError",this.code="ERR_GOT_REQUEST_ERROR"===this.code?"ERR_READING_RESPONSE_STREAM":this.code}}t.ReadError=ei;class en extends Z{constructor(e){super(`Unsupported protocol "${e.url.protocol}"`,{},e),this.name="UnsupportedProtocolError",this.code="ERR_UNSUPPORTED_PROTOCOL"}}t.UnsupportedProtocolError=en;let ea=["socket","connect","continue","information","upgrade","timeout"];class el extends i.Duplex{constructor(e,r={},s){super({autoDestroy:!1,highWaterMark:0}),this[H]=0,this[U]=0,this.requestInitialized=!1,this[L]=new Set,this.redirects=[],this[z]=!1,this[B]=!1,this[W]=[],this.retryCount=0,this._progressCallbacks=[];let o=()=>this._unlockWrite(),i=()=>this._lockWrite();this.on("pipe",e=>{e.prependListener("data",o),e.on("data",i),e.prependListener("end",o),e.on("end",i)}),this.on("unpipe",e=>{e.off("data",o),e.off("data",i),e.off("end",o),e.off("end",i)}),this.on("pipe",e=>{e instanceof u.IncomingMessage&&(this.options.headers={...e.headers,...this.options.headers})});let{json:a,body:l,form:h}=r;if((a||l||h)&&this._lockWrite(),t.kIsNormalizedAlready in r)this.options=r;else try{this.options=this.constructor.normalizeArguments(e,r,s)}catch(e){g.default.nodeStream(r.body)&&r.body.destroy(),this.destroy(e);return}(async()=>{var e;try{this.options.body instanceof n.ReadStream&&await Q(this.options.body);let{url:t}=this.options;if(!t)throw TypeError("Missing `url` property");if(this.requestUrl=t.toString(),decodeURI(this.requestUrl),await this._finalizeBody(),await this._makeRequest(),this.destroyed){null===(e=this[O])||void 0===e||e.destroy();return}for(let e of this[W])e();this[W].length=0,this.requestInitialized=!0}catch(e){if(e instanceof Z){this._beforeError(e);return}this.destroyed||this.destroy(e)}})()}static normalizeArguments(e,r,i){var n,l,u,h,c;let p=r;if(g.default.object(e)&&!g.default.urlInstance(e))r={...i,...e,...r};else{if(e&&r&&void 0!==r.url)throw TypeError("The `url` option is mutually exclusive with the `input` argument");r={...i,...r},void 0!==e&&(r.url=e),g.default.urlInstance(r.url)&&(r.url=new a.URL(r.url.toString()))}if(!1===r.cache&&(r.cache=void 0),!1===r.dnsCache&&(r.dnsCache=void 0),g.assert.any([g.default.string,g.default.undefined],r.method),g.assert.any([g.default.object,g.default.undefined],r.headers),g.assert.any([g.default.string,g.default.urlInstance,g.default.undefined],r.prefixUrl),g.assert.any([g.default.object,g.default.undefined],r.cookieJar),g.assert.any([g.default.object,g.default.string,g.default.undefined],r.searchParams),g.assert.any([g.default.object,g.default.string,g.default.undefined],r.cache),g.assert.any([g.default.object,g.default.number,g.default.undefined],r.timeout),g.assert.any([g.default.object,g.default.undefined],r.context),g.assert.any([g.default.object,g.default.undefined],r.hooks),g.assert.any([g.default.boolean,g.default.undefined],r.decompress),g.assert.any([g.default.boolean,g.default.undefined],r.ignoreInvalidCookies),g.assert.any([g.default.boolean,g.default.undefined],r.followRedirect),g.assert.any([g.default.number,g.default.undefined],r.maxRedirects),g.assert.any([g.default.boolean,g.default.undefined],r.throwHttpErrors),g.assert.any([g.default.boolean,g.default.undefined],r.http2),g.assert.any([g.default.boolean,g.default.undefined],r.allowGetBody),g.assert.any([g.default.string,g.default.undefined],r.localAddress),g.assert.any([A.isDnsLookupIpVersion,g.default.undefined],r.dnsLookupIpVersion),g.assert.any([g.default.object,g.default.undefined],r.https),g.assert.any([g.default.boolean,g.default.undefined],r.rejectUnauthorized),r.https&&(g.assert.any([g.default.boolean,g.default.undefined],r.https.rejectUnauthorized),g.assert.any([g.default.function_,g.default.undefined],r.https.checkServerIdentity),g.assert.any([g.default.string,g.default.object,g.default.array,g.default.undefined],r.https.certificateAuthority),g.assert.any([g.default.string,g.default.object,g.default.array,g.default.undefined],r.https.key),g.assert.any([g.default.string,g.default.object,g.default.array,g.default.undefined],r.https.certificate),g.assert.any([g.default.string,g.default.undefined],r.https.passphrase),g.assert.any([g.default.string,g.default.buffer,g.default.array,g.default.undefined],r.https.pfx)),g.assert.any([g.default.object,g.default.undefined],r.cacheOptions),g.default.string(r.method)?r.method=r.method.toUpperCase():r.method="GET",r.headers===(null==i?void 0:i.headers)?r.headers={...r.headers}:r.headers=y({...null==i?void 0:i.headers,...r.headers}),"slashes"in r)throw TypeError("The legacy `url.Url` has been deprecated. Use `URL` instead.");if("auth"in r)throw TypeError("Parameter `auth` is deprecated. Use `username` / `password` instead.");if("searchParams"in r&&r.searchParams&&r.searchParams!==(null==i?void 0:i.searchParams)){let e;if(g.default.string(r.searchParams)||r.searchParams instanceof a.URLSearchParams)e=new a.URLSearchParams(r.searchParams);else for(let t in function(e){for(let t in e){let r=e[t];if(!g.default.string(r)&&!g.default.number(r)&&!g.default.boolean(r)&&!g.default.null_(r)&&!g.default.undefined(r))throw TypeError(`The \`searchParams\` value '${String(r)}' must be a string, number, boolean or null`)}}(r.searchParams),e=new a.URLSearchParams,r.searchParams){let s=r.searchParams[t];null===s?e.append(t,""):void 0!==s&&e.append(t,s)}null===(n=null==i?void 0:i.searchParams)||void 0===n||n.forEach((t,r)=>{e.has(r)||e.append(r,t)}),r.searchParams=e}if(r.username=null!==(l=r.username)&&void 0!==l?l:"",r.password=null!==(u=r.password)&&void 0!==u?u:"",g.default.undefined(r.prefixUrl)?r.prefixUrl=null!==(h=null==i?void 0:i.prefixUrl)&&void 0!==h?h:"":(r.prefixUrl=r.prefixUrl.toString(),""===r.prefixUrl||r.prefixUrl.endsWith("/")||(r.prefixUrl+="/")),g.default.string(r.url)){if(r.url.startsWith("/"))throw Error("`input` must not start with a slash when using `prefixUrl`");r.url=S.default(r.prefixUrl+r.url,r)}else(g.default.undefined(r.url)&&""!==r.prefixUrl||r.protocol)&&(r.url=S.default(r.prefixUrl,r));if(r.url){"port"in r&&delete r.port;let{prefixUrl:e}=r;Object.defineProperty(r,"prefixUrl",{set:t=>{let s=r.url;if(!s.href.startsWith(t))throw Error(`Cannot change \`prefixUrl\` from ${e} to ${t}: ${s.href}`);r.url=new a.URL(t+s.href.slice(e.length)),e=t},get:()=>e});let{protocol:t}=r.url;if("unix:"===t&&(t="http:",r.url=new a.URL(`http://unix${r.url.pathname}${r.url.search}`)),r.searchParams&&(r.url.search=r.searchParams.toString()),"http:"!==t&&"https:"!==t)throw new en(r);""===r.username?r.username=r.url.username:r.url.username=r.username,""===r.password?r.password=r.url.password:r.url.password=r.password}let{cookieJar:m}=r;if(m){let{setCookie:e,getCookieString:t}=m;g.assert.function_(e),g.assert.function_(t),4===e.length&&0===t.length&&(e=o.promisify(e.bind(r.cookieJar)),t=o.promisify(t.bind(r.cookieJar)),r.cookieJar={setCookie:e,getCookieString:t})}let{cache:b}=r;if(b&&!K.has(b)&&K.set(b,new f((e,t)=>{let r=e[O](e,t);return g.default.promise(r)&&(r.once=(e,t)=>{if("error"===e)r.catch(t);else if("abort"===e)(async()=>{try{(await r).once("abort",t)}catch(e){}})();else throw Error(`Unknown HTTP2 promise event: ${e}`);return r}),r},b)),r.cacheOptions={...r.cacheOptions},!0===r.dnsCache)s||(s=new d.default),r.dnsCache=s;else if(!g.default.undefined(r.dnsCache)&&!r.dnsCache.lookup)throw TypeError(`Parameter \`dnsCache\` must be a CacheableLookup instance or a boolean, got ${g.default(r.dnsCache)}`);g.default.number(r.timeout)?r.timeout={request:r.timeout}:i&&r.timeout!==i.timeout?r.timeout={...i.timeout,...r.timeout}:r.timeout={...r.timeout},r.context||(r.context={});let _=r.hooks===(null==i?void 0:i.hooks);for(let e of(r.hooks={...r.hooks},t.knownHookEvents))if(e in r.hooks){if(g.default.array(r.hooks[e]))r.hooks[e]=[...r.hooks[e]];else throw TypeError(`Parameter \`${e}\` must be an Array, got ${g.default(r.hooks[e])}`)}else r.hooks[e]=[];if(i&&!_)for(let e of t.knownHookEvents)i.hooks[e].length>0&&(r.hooks[e]=[...i.hooks[e],...r.hooks[e]]);if("family"in r&&P.default('"options.family" was never documented, please use "options.dnsLookupIpVersion"'),(null==i?void 0:i.https)&&(r.https={...i.https,...r.https}),"rejectUnauthorized"in r&&P.default('"options.rejectUnauthorized" is now deprecated, please use "options.https.rejectUnauthorized"'),"checkServerIdentity"in r&&P.default('"options.checkServerIdentity" was never documented, please use "options.https.checkServerIdentity"'),"ca"in r&&P.default('"options.ca" was never documented, please use "options.https.certificateAuthority"'),"key"in r&&P.default('"options.key" was never documented, please use "options.https.key"'),"cert"in r&&P.default('"options.cert" was never documented, please use "options.https.certificate"'),"passphrase"in r&&P.default('"options.passphrase" was never documented, please use "options.https.passphrase"'),"pfx"in r&&P.default('"options.pfx" was never documented, please use "options.https.pfx"'),"followRedirects"in r)throw TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.");if(r.agent){for(let e in r.agent)if("http"!==e&&"https"!==e&&"http2"!==e)throw TypeError(`Expected the \`options.agent\` properties to be \`http\`, \`https\` or \`http2\`, got \`${e}\``)}return r.maxRedirects=null!==(c=r.maxRedirects)&&void 0!==c?c:0,t.setNonEnumerableProperties([i,p],r),C.default(r,i)}_lockWrite(){let e=()=>{throw TypeError("The payload has been already provided")};this.write=e,this.end=e}_unlockWrite(){this.write=super.write,this.end=super.end}async _finalizeBody(){let{options:e}=this,{headers:r}=e,s=!g.default.undefined(e.form),o=!g.default.undefined(e.json),n=!g.default.undefined(e.body),l=t.withoutBody.has(e.method)&&!("GET"===e.method&&e.allowGetBody);if(this._cannotHaveBody=l,s||o||n){if(l)throw TypeError(`The \`${e.method}\` method cannot be used with a body`);if([n,s,o].filter(e=>e).length>1)throw TypeError("The `body`, `json` and `form` options are mutually exclusive");if(n&&!(e.body instanceof i.Readable)&&!g.default.string(e.body)&&!g.default.buffer(e.body)&&!_.default(e.body))throw TypeError("The `body` option must be a stream.Readable, string or Buffer");if(s&&!g.default.object(e.form))throw TypeError("The `form` option must be an Object");{let t=!g.default.string(r["content-type"]);n?(_.default(e.body)&&t&&(r["content-type"]=`multipart/form-data; boundary=${e.body.getBoundary()}`),this[F]=e.body):s?(t&&(r["content-type"]="application/x-www-form-urlencoded"),this[F]=new a.URLSearchParams(e.form).toString()):(t&&(r["content-type"]="application/json"),this[F]=e.stringifyJson(e.json));let o=await b.default(this[F],e.headers);g.default.undefined(r["content-length"])&&g.default.undefined(r["transfer-encoding"])&&!l&&!g.default.undefined(o)&&(r["content-length"]=String(o))}}else l?this._lockWrite():this._unlockWrite();this[I]=Number(r["content-length"])||void 0}async _onResponseBase(e){let{options:t}=this,{url:r}=t;this[G]=e,t.decompress&&(e=p(e));let s=e.statusCode,o=e;o.statusMessage=o.statusMessage?o.statusMessage:l.STATUS_CODES[s],o.url=t.url.toString(),o.requestUrl=this.requestUrl,o.redirectUrls=this.redirects,o.request=this,o.isFromCache=e.fromCache||!1,o.ip=this.ip,o.retryCount=this.retryCount,this[D]=o.isFromCache,this[q]=Number(e.headers["content-length"])||void 0,this[j]=e,e.once("end",()=>{this[q]=this[H],this.emit("downloadProgress",this.downloadProgress)}),e.once("error",t=>{e.destroy(),this._beforeError(new ei(t,this))}),e.once("aborted",()=>{this._beforeError(new ei({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);let i=e.headers["set-cookie"];if(g.default.object(t.cookieJar)&&i){let e=i.map(async e=>t.cookieJar.setCookie(e,r.toString()));t.ignoreInvalidCookies&&(e=e.map(async e=>e.catch(()=>{})));try{await Promise.all(e)}catch(e){this._beforeError(e);return}}if(t.followRedirect&&e.headers.location&&X.has(s)){if(e.resume(),this[O]&&(this[N](),delete this[O],this[M]()),(303!==s||"GET"===t.method||"HEAD"===t.method)&&t.methodRewriting||(t.method="GET","body"in t&&delete t.body,"json"in t&&delete t.json,"form"in t&&delete t.form,this[F]=void 0,delete t.headers["content-length"]),this.redirects.length>=t.maxRedirects){this._beforeError(new ee(this));return}try{let s=Buffer.from(e.headers.location,"binary").toString(),i=new a.URL(s,r),l=i.toString();function n(e){return"unix:"===e.protocol||"unix"===e.hostname}if(decodeURI(l),!n(r)&&n(i)){this._beforeError(new Z("Cannot redirect to UNIX socket",{},this));return}for(let e of(i.hostname!==r.hostname||i.port!==r.port?("host"in t.headers&&delete t.headers.host,"cookie"in t.headers&&delete t.headers.cookie,"authorization"in t.headers&&delete t.headers.authorization,(t.username||t.password)&&(t.username="",t.password="")):(i.username=t.username,i.password=t.password),this.redirects.push(l),t.url=i,t.hooks.beforeRedirect))await e(t,o);this.emit("redirect",o,t),await this._makeRequest()}catch(e){this._beforeError(e)}return}if(t.isStream&&t.throwHttpErrors&&!T.isResponseOk(o)){this._beforeError(new et(o));return}for(let r of(e.on("readable",()=>{this[B]&&this._read()}),this.on("resume",()=>{e.resume()}),this.on("pause",()=>{e.pause()}),e.once("end",()=>{this.push(null)}),this.emit("response",e),this[L]))if(!r.headersSent){for(let s in e.headers){let o=!t.decompress||"content-encoding"!==s,i=e.headers[s];o&&r.setHeader(s,i)}r.statusCode=s}}async _onResponse(e){try{await this._onResponseBase(e)}catch(e){this._beforeError(e)}}_onRequest(e){let{options:t}=this,{timeout:r,url:s}=t;c.default(e),this[N]=w.default(e,r,s);let o=t.cache?"cacheableResponse":"response";e.once(o,e=>{this._onResponse(e)}),e.once("error",t=>{var r;e.destroy(),null===(r=e.res)||void 0===r||r.removeAllListeners("end"),t=t instanceof w.TimeoutError?new eo(t,this.timings,this):new Z(t.message,t,this),this._beforeError(t)}),this[M]=v.default(e,this,ea),this[O]=e,this.emit("uploadProgress",this.uploadProgress);let i=this[F],n=0===this.redirects.length?this:e;g.default.nodeStream(i)?(i.pipe(n),i.once("error",e=>{this._beforeError(new es(e,this))})):(this._unlockWrite(),g.default.undefined(i)?(this._cannotHaveBody||this._noPipe)&&(n.end(),this._lockWrite()):(this._writeRequest(i,void 0,()=>{}),n.end(),this._lockWrite())),this.emit("request",e)}async _createCacheableRequest(e,t){return new Promise((r,s)=>{let o;Object.assign(t,E.default(e)),delete t.url;let i=K.get(t.cache)(t,async e=>{e._readableState.autoDestroy=!1,o&&(await o).emit("cacheableResponse",e),r(e)});t.url=e,i.once("error",s),i.once("request",async e=>{r(o=e)})})}async _makeRequest(){var e,t,r,s,o,i;let n;let{options:a}=this,{headers:u}=a;for(let e in u)if(g.default.undefined(u[e]))delete u[e];else if(g.default.null_(u[e]))throw TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${e}\` header`);if(a.decompress&&g.default.undefined(u["accept-encoding"])&&(u["accept-encoding"]=J?"gzip, deflate, br":"gzip, deflate"),a.cookieJar){let e=await a.cookieJar.getCookieString(a.url.toString());g.default.nonEmptyString(e)&&(a.headers.cookie=e)}for(let e of a.hooks.beforeRequest){let t=await e(a);if(!g.default.undefined(t)){a.request=()=>t;break}}a.body&&this[F]!==a.body&&(this[F]=a.body);let{agent:c,request:d,timeout:p,url:y}=a;if(!a.dnsCache||"lookup"in a||(a.lookup=a.dnsCache.lookup),"unix"===y.hostname){let e=/(?<socketPath>.+?):(?<path>.+)/.exec(`${y.pathname}${y.search}`);if(null==e?void 0:e.groups){let{socketPath:t,path:r}=e.groups;Object.assign(a,{socketPath:t,path:r,host:""})}}let b="https:"===y.protocol;n=a.http2?m.auto:b?h.request:l.request;let _=null!==(e=a.request)&&void 0!==e?e:n,v=a.cache?this._createCacheableRequest:_;if(c&&!a.http2&&(a.agent=c[b?"https":"http"]),a[O]=_,delete a.request,delete a.timeout,a.shared=null===(t=a.cacheOptions)||void 0===t?void 0:t.shared,a.cacheHeuristic=null===(r=a.cacheOptions)||void 0===r?void 0:r.cacheHeuristic,a.immutableMinTimeToLive=null===(s=a.cacheOptions)||void 0===s?void 0:s.immutableMinTimeToLive,a.ignoreCargoCult=null===(o=a.cacheOptions)||void 0===o?void 0:o.ignoreCargoCult,void 0!==a.dnsLookupIpVersion)try{a.family=A.dnsLookupIpVersionToFamily(a.dnsLookupIpVersion)}catch(e){throw Error("Invalid `dnsLookupIpVersion` option value")}a.https&&("rejectUnauthorized"in a.https&&(a.rejectUnauthorized=a.https.rejectUnauthorized),a.https.checkServerIdentity&&(a.checkServerIdentity=a.https.checkServerIdentity),a.https.certificateAuthority&&(a.ca=a.https.certificateAuthority),a.https.certificate&&(a.cert=a.https.certificate),a.https.key&&(a.key=a.https.key),a.https.passphrase&&(a.passphrase=a.https.passphrase),a.https.pfx&&(a.pfx=a.https.pfx));try{let e=await v(y,a);(g.default.undefined(e)&&(e=n(y,a)),a.request=d,a.timeout=p,a.agent=c,a.https&&("rejectUnauthorized"in a.https&&delete a.rejectUnauthorized,a.https.checkServerIdentity&&delete a.checkServerIdentity,a.https.certificateAuthority&&delete a.ca,a.https.certificate&&delete a.cert,a.https.key&&delete a.key,a.https.passphrase&&delete a.passphrase,a.https.pfx&&delete a.pfx),i=e,!g.default.object(i)||"statusCode"in i)?this.writable?(this.once("finish",()=>{this._onResponse(e)}),this._unlockWrite(),this.end(),this._lockWrite()):this._onResponse(e):this._onRequest(e)}catch(e){if(e instanceof f.CacheError)throw new er(e,this);throw new Z(e.message,e,this)}}async _error(e){try{for(let t of this.options.hooks.beforeError)e=await t(e)}catch(t){e=new Z(t.message,t,this)}this.destroy(e)}_beforeError(e){if(this[z])return;let{options:t}=this,r=this.retryCount+1;this[z]=!0,e instanceof Z||(e=new Z(e.message,e,this));let s=e,{response:o}=s;(async()=>{if(o&&!o.body){o.setEncoding(this._readableState.encoding);try{o.rawBody=await k.default(o),o.body=o.rawBody.toString()}catch(e){}}if(0!==this.listenerCount("retry")){let i;try{let e;o&&"retry-after"in o.headers&&(e=Number(o.headers["retry-after"]),Number.isNaN(e)?(e=Date.parse(o.headers["retry-after"])-Date.now())<=0&&(e=1):e*=1e3),i=await t.retry.calculateDelay({attemptCount:r,retryOptions:t.retry,error:s,retryAfter:e,computedValue:R.default({attemptCount:r,retryOptions:t.retry,error:s,retryAfter:e,computedValue:0})})}catch(e){this._error(new Z(e.message,e,this));return}if(i){let t=async()=>{try{for(let e of this.options.hooks.beforeRetry)await e(this.options,s,r)}catch(t){this._error(new Z(t.message,e,this));return}this.destroyed||(this.destroy(),this.emit("retry",r,e))};this[V]=setTimeout(t,i);return}}this._error(s)})()}_read(){this[B]=!0;let e=this[j];if(e&&!this[z]){let t;for(e.readableLength&&(this[B]=!1);null!==(t=e.read());){this[H]+=t.length,this[$]=!0;let e=this.downloadProgress;e.percent<1&&this.emit("downloadProgress",e),this.push(t)}}}_write(e,t,r){let s=()=>{this._writeRequest(e,t,r)};this.requestInitialized?s():this[W].push(s)}_writeRequest(e,t,r){this[O].destroyed||(this._progressCallbacks.push(()=>{this[U]+=Buffer.byteLength(e,t);let r=this.uploadProgress;r.percent<1&&this.emit("uploadProgress",r)}),this[O].write(e,t,e=>{!e&&this._progressCallbacks.length>0&&this._progressCallbacks.shift()(),r(e)}))}_final(e){let t=()=>{for(;0!==this._progressCallbacks.length;)this._progressCallbacks.shift()();if(!(O in this)||this[O].destroyed){e();return}this[O].end(t=>{t||(this[I]=this[U],this.emit("uploadProgress",this.uploadProgress),this[O].emit("upload-complete")),e(t)})};this.requestInitialized?t():this[W].push(t)}_destroy(e,t){var r;this[z]=!0,clearTimeout(this[V]),O in this&&(this[N](),(null===(r=this[j])||void 0===r?void 0:r.complete)||this[O].destroy()),null===e||g.default.undefined(e)||e instanceof Z||(e=new Z(e.message,e,this)),t(e)}get _isAboutToError(){return this[z]}get ip(){var e;return null===(e=this.socket)||void 0===e?void 0:e.remoteAddress}get aborted(){var e,t,r;return(null!==(t=null===(e=this[O])||void 0===e?void 0:e.destroyed)&&void 0!==t?t:this.destroyed)&&!(null===(r=this[G])||void 0===r?void 0:r.complete)}get socket(){var e,t;return null!==(t=null===(e=this[O])||void 0===e?void 0:e.socket)&&void 0!==t?t:void 0}get downloadProgress(){return{percent:this[q]?this[H]/this[q]:this[q]===this[H]?1:0,transferred:this[H],total:this[q]}}get uploadProgress(){return{percent:this[I]?this[U]/this[I]:this[I]===this[U]?1:0,transferred:this[U],total:this[I]}}get timings(){var e;return null===(e=this[O])||void 0===e?void 0:e.timings}get isFromCache(){return this[D]}pipe(e,t){if(this[$])throw Error("Failed to pipe. The response has been emitted already.");return e instanceof u.ServerResponse&&this[L].add(e),super.pipe(e,t)}unpipe(e){return e instanceof u.ServerResponse&&this[L].delete(e),super.unpipe(e),this}}t.default=el},8279:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dnsLookupIpVersionToFamily=t.isDnsLookupIpVersion=void 0;let r={auto:0,ipv4:4,ipv6:6};t.isDnsLookupIpVersion=e=>e in r,t.dnsLookupIpVersionToFamily=e=>{if(t.isDnsLookupIpVersion(e))return r[e];throw Error("Invalid DNS lookup IP version")}},5139:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let s=r(7147),o=r(3837),i=r(2987),n=r(8786),a=o.promisify(s.stat);t.default=async(e,t)=>{if(t&&"content-length"in t)return Number(t["content-length"]);if(!e)return 0;if(i.default.string(e))return Buffer.byteLength(e);if(i.default.buffer(e))return e.length;if(n.default(e))return o.promisify(e.getLength.bind(e))();if(e instanceof s.ReadStream){let{size:t}=await a(e.path);if(0===t)return;return t}}},8284:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=async e=>{let t=[],r=0;for await(let s of e)t.push(s),r+=Buffer.byteLength(s);return Buffer.isBuffer(t[0])?Buffer.concat(t,r):Buffer.from(t.join(""))};t.default=r},8786:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let s=r(2987);t.default=e=>s.default.nodeStream(e)&&s.default.function_(e.getBoundary)},2426:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isResponseOk=void 0,t.isResponseOk=e=>{let{statusCode:t}=e,r=e.request.options.followRedirect?299:399;return t>=200&&t<=r||304===t}},1201:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let s=r(7310),o=["protocol","host","hostname","port","pathname","search"];t.default=(e,t)=>{var r,i;if(t.path){if(t.pathname)throw TypeError("Parameters `path` and `pathname` are mutually exclusive.");if(t.search)throw TypeError("Parameters `path` and `search` are mutually exclusive.");if(t.searchParams)throw TypeError("Parameters `path` and `searchParams` are mutually exclusive.")}if(t.search&&t.searchParams)throw TypeError("Parameters `search` and `searchParams` are mutually exclusive.");if(!e){if(!t.protocol)throw TypeError("No URL protocol specified");e=`${t.protocol}//${null!==(i=null!==(r=t.hostname)&&void 0!==r?r:t.host)&&void 0!==i?i:""}`}let n=new s.URL(e);if(t.path){let e=t.path.indexOf("?");-1===e?t.pathname=t.path:(t.pathname=t.path.slice(0,e),t.search=t.path.slice(e+1)),delete t.path}for(let e of o)t[e]&&(n[e]=t[e].toString());return n}},5359:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){let s={};for(let o of r)s[o]=(...e)=>{t.emit(o,...e)},e.on(o,s[o]);return()=>{for(let t of r)e.off(t,s[t])}}},9277:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeoutError=void 0;let s=r(1808),o=r(9937),i=Symbol("reentry"),n=()=>{};class a extends Error{constructor(e,t){super(`Timeout awaiting '${t}' for ${e}ms`),this.event=t,this.name="TimeoutError",this.code="ETIMEDOUT"}}t.TimeoutError=a,t.default=(e,t,r)=>{if(i in e)return n;e[i]=!0;let l=[],{once:u,unhandleAll:h}=o.default(),c=(e,t,r)=>{var s;let o=setTimeout(t,e,e,r);null===(s=o.unref)||void 0===s||s.call(o);let i=()=>{clearTimeout(o)};return l.push(i),i},{host:d,hostname:f}=r,p=(t,r)=>{e.destroy(new a(t,r))},m=()=>{for(let e of l)e();h()};if(e.once("error",t=>{if(m(),0===e.listenerCount("error"))throw t}),e.once("close",m),u(e,"response",e=>{u(e,"end",m)}),void 0!==t.request&&c(t.request,p,"request"),void 0!==t.socket){let r=()=>{p(t.socket,"socket")};e.setTimeout(t.socket,r),l.push(()=>{e.removeListener("timeout",r)})}return u(e,"socket",o=>{var i;let{socketPath:n}=e;if(o.connecting){let e=!!(null!=n?n:0!==s.isIP(null!==(i=null!=f?f:d)&&void 0!==i?i:""));if(void 0===t.lookup||e||void 0!==o.address().address||u(o,"lookup",c(t.lookup,p,"lookup")),void 0!==t.connect){let r=()=>c(t.connect,p,"connect");e?u(o,"connect",r()):u(o,"lookup",e=>{null===e&&u(o,"connect",r())})}void 0!==t.secureConnect&&"https:"===r.protocol&&u(o,"connect",()=>{u(o,"secureConnect",c(t.secureConnect,p,"secureConnect"))})}if(void 0!==t.send){let r=()=>c(t.send,p,"send");o.connecting?u(o,"connect",()=>{u(e,"upload-complete",r())}):u(e,"upload-complete",r())}}),void 0!==t.response&&u(e,"upload-complete",()=>{u(e,"response",c(t.response,p,"response"))}),m}},9937:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=()=>{let e=[];return{once(t,r,s){t.once(r,s),e.push({origin:t,event:r,fn:s})},unhandleAll(){for(let t of e){let{origin:e,event:r,fn:s}=t;e.removeListener(r,s)}e.length=0}}}},7047:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let s=r(2987);t.default=e=>{let t={protocol:e.protocol,hostname:s.default.string(e.hostname)&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,host:e.host,hash:e.hash,search:e.search,pathname:e.pathname,href:e.href,path:`${e.pathname||""}${e.search||""}`};return s.default.string(e.port)&&e.port.length>0&&(t.port=Number(e.port)),(e.username||e.password)&&(t.auth=`${e.username||""}:${e.password||""}`),t}},3836:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(){this.weakMap=new WeakMap,this.map=new Map}set(e,t){"object"==typeof e?this.weakMap.set(e,t):this.map.set(e,t)}get(e){return"object"==typeof e?this.weakMap.get(e):this.map.get(e)}has(e){return"object"==typeof e?this.weakMap.has(e):this.map.has(e)}}t.default=r},507:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultHandler=void 0;let i=r(2987),n=r(6246),a=r(4221),l=r(2730),u=r(6458),h={RequestError:n.RequestError,CacheError:n.CacheError,ReadError:n.ReadError,HTTPError:n.HTTPError,MaxRedirectsError:n.MaxRedirectsError,TimeoutError:n.TimeoutError,ParseError:n.ParseError,CancelError:n.CancelError,UnsupportedProtocolError:n.UnsupportedProtocolError,UploadError:n.UploadError},c=async e=>new Promise(t=>{setTimeout(t,e)}),{normalizeArguments:d}=l.default,f=(...e)=>{let t;for(let r of e)t=d(void 0,r,t);return t},p=e=>e.isStream?new l.default(void 0,e):n.default(e),m=e=>"defaults"in e&&"options"in e.defaults,y=["get","post","put","patch","head","delete"];t.defaultHandler=(e,t)=>t(e);let g=(e,t)=>{if(e)for(let r of e)r(t)},b=e=>{e._rawHandlers=e.handlers,e.handlers=e.handlers.map(e=>(t,r)=>{let s;let o=e(t,e=>s=r(e));if(o!==s&&!t.isStream&&s){let{then:e,catch:t,finally:r}=o;Object.setPrototypeOf(o,Object.getPrototypeOf(s)),Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)),o.then=e,o.catch=t,o.finally=r}return o});let r=(t,r={},s)=>{var o,u;let h=0,c=t=>e.handlers[h++](t,h===e.handlers.length?p:c);if(i.default.plainObject(t)){let e={...t,...r};l.setNonEnumerableProperties([t,r],e),r=e,t=void 0}try{let i;try{g(e.options.hooks.init,r),g(null===(o=r.hooks)||void 0===o?void 0:o.init,r)}catch(e){i=e}let a=d(t,r,null!=s?s:e.options);if(a[l.kIsNormalizedAlready]=!0,i)throw new n.RequestError(i.message,i,a);return c(a)}catch(t){if(!r.isStream)return a.default(t,e.options.hooks.beforeError,null===(u=r.hooks)||void 0===u?void 0:u.beforeError);throw t}};r.extend=(...r)=>{let s;let o=[e.options],i=[...e._rawHandlers];for(let e of r)m(e)?(o.push(e.defaults.options),i.push(...e.defaults._rawHandlers),s=e.defaults.mutableDefaults):(o.push(e),"handlers"in e&&i.push(...e.handlers),s=e.mutableDefaults);return 0===(i=i.filter(e=>e!==t.defaultHandler)).length&&i.push(t.defaultHandler),b({options:f(...o),handlers:i,mutableDefaults:!!s})};let s=async function*(t,s){let o=d(t,s,e.options);o.resolveBodyOnly=!1;let n=o.pagination;if(!i.default.object(n))throw TypeError("`options.pagination` must be implemented");let a=[],{countLimit:l}=n,u=0;for(;u<n.requestLimit;){0!==u&&await c(n.backoff);let e=await r(void 0,void 0,o),t=await n.transform(e),s=[];for(let e of t)if(n.filter(e,a,s)&&(!n.shouldContinue(e,a,s)||(yield e,n.stackAllItems&&a.push(e),s.push(e),--l<=0)))return;let i=n.paginate(e,a,s);if(!1===i)return;i===e.request.options?o=e.request.options:void 0!==i&&(o=d(void 0,i,o)),u++}};for(let e of(r.paginate=s,r.paginate.all=async(e,t)=>{let r=[];for await(let o of s(e,t))r.push(o);return r},r.paginate.each=s,r.stream=(e,t)=>r(e,{...t,isStream:!0}),y))r[e]=(t,s)=>r(t,{...s,method:e}),r.stream[e]=(t,s)=>r(t,{...s,method:e,isStream:!0});return Object.assign(r,h),Object.defineProperty(r,"defaults",{value:e.mutableDefaults?e:u.default(e),writable:e.mutableDefaults,configurable:e.mutableDefaults,enumerable:!0}),r.mergeOptions=f,r};t.default=b,o(r(170),t)},6980:function(e,t,r){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||s(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0});let i=r(7310),n=r(507),a={options:{method:"GET",retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:e})=>e},timeout:{},headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},hooks:{init:[],beforeRequest:[],beforeRedirect:[],beforeRetry:[],beforeError:[],afterResponse:[]},cache:void 0,dnsCache:void 0,decompress:!0,throwHttpErrors:!0,followRedirect:!0,isStream:!1,responseType:"text",resolveBodyOnly:!1,maxRedirects:10,prefixUrl:"",methodRewriting:!0,ignoreInvalidCookies:!1,context:{},http2:!1,allowGetBody:!1,https:void 0,pagination:{transform:e=>"json"===e.request.options.responseType?e.body:JSON.parse(e.body),paginate:e=>{let t;if(!Reflect.has(e.headers,"link"))return!1;for(let r of e.headers.link.split(",")){let e=r.split(";");if(e[1].includes("next")){t=(t=e[0].trimStart().trim()).slice(1,-1);break}}return!!t&&{url:new i.URL(t)}},filter:()=>!0,shouldContinue:()=>!0,countLimit:1/0,backoff:0,requestLimit:1e4,stackAllItems:!0},parseJson:e=>JSON.parse(e),stringifyJson:e=>JSON.stringify(e),cacheOptions:{}},handlers:[n.defaultHandler],mutableDefaults:!1},l=n.default(a);t.default=l,e.exports=l,e.exports.default=l,e.exports.__esModule=!0,o(r(507),t),o(r(6246),t)},170:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6458:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let s=r(2987);t.default=function e(t){for(let r of Object.values(t))(s.default.plainObject(r)||s.default.array(r))&&e(r);return Object.freeze(t)}},8298:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let r=new Set;t.default=e=>{r.has(e)||(r.add(e),process.emitWarning(`Got: ${e}`,{type:"DeprecationWarning"}))}},2988:e=>{"use strict";let t=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),r=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),s=new Set([500,502,503,504]),o={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},i={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function n(e){let t=parseInt(e,10);return isFinite(t)?t:0}function a(e){let t={};if(!e)return t;for(let r of e.trim().split(/,/)){let[e,s]=r.split(/=/,2);t[e.trim()]=void 0===s||s.trim().replace(/^"|"$/g,"")}return t}e.exports=class{constructor(e,t,{shared:r,cacheHeuristic:s,immutableMinTimeToLive:o,ignoreCargoCult:i,_fromObject:n}={}){if(n){this._fromObject(n);return}if(!t||!t.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(e),this._responseTime=this.now(),this._isShared=!1!==r,this._cacheHeuristic=void 0!==s?s:.1,this._immutableMinTtl=void 0!==o?o:864e5,this._status="status"in t?t.status:200,this._resHeaders=t.headers,this._rescc=a(t.headers["cache-control"]),this._method="method"in e?e.method:"GET",this._url=e.url,this._host=e.headers.host,this._noAuthorization=!e.headers.authorization,this._reqHeaders=t.headers.vary?e.headers:null,this._reqcc=a(e.headers["cache-control"]),i&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":function(e){let t=[];for(let r in e){let s=e[r];t.push(!0===s?r:r+"="+s)}if(t.length)return t.join(", ")}(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),null==t.headers["cache-control"]&&/no-cache/.test(t.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&("GET"===this._method||"HEAD"===this._method||"POST"===this._method&&this._hasExplicitExpiration())&&r.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||t.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(e){if(!e||!e.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);let t=a(e.headers["cache-control"]);return!(t["no-cache"]||/no-cache/.test(e.headers.pragma)||t["max-age"]&&this.age()>t["max-age"]||t["min-fresh"]&&this.timeToLive()<1e3*t["min-fresh"]||this.stale()&&!(t["max-stale"]&&!this._rescc["must-revalidate"]&&(!0===t["max-stale"]||t["max-stale"]>this.age()-this.maxAge())))&&this._requestMatches(e,!1)}_requestMatches(e,t){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||t&&"HEAD"===e.method)&&this._varyMatches(e)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(e){if(!this._resHeaders.vary)return!0;if("*"===this._resHeaders.vary)return!1;for(let t of this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/))if(e.headers[t]!==this._reqHeaders[t])return!1;return!0}_copyWithoutHopByHopHeaders(e){let t={};for(let r in e)o[r]||(t[r]=e[r]);if(e.connection)for(let r of e.connection.trim().split(/\s*,\s*/))delete t[r];if(t.warning){let e=t.warning.split(/,/).filter(e=>!/^\s*1[0-9][0-9]/.test(e));e.length?t.warning=e.join(",").trim():delete t.warning}return t}responseHeaders(){let e=this._copyWithoutHopByHopHeaders(this._resHeaders),t=this.age();return t>86400&&!this._hasExplicitExpiration()&&this.maxAge()>86400&&(e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'),e.age=`${Math.round(t)}`,e.date=new Date(this.now()).toUTCString(),e}date(){let e=Date.parse(this._resHeaders.date);return isFinite(e)?e:this._responseTime}age(){return this._ageValue()+(this.now()-this._responseTime)/1e3}_ageValue(){return n(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||"*"===this._resHeaders.vary)return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return n(this._rescc["s-maxage"])}if(this._rescc["max-age"])return n(this._rescc["max-age"]);let e=this._rescc.immutable?this._immutableMinTtl:0,t=this.date();if(this._resHeaders.expires){let r=Date.parse(this._resHeaders.expires);return Number.isNaN(r)||r<t?0:Math.max(e,(r-t)/1e3)}if(this._resHeaders["last-modified"]){let r=Date.parse(this._resHeaders["last-modified"]);if(isFinite(r)&&t>r)return Math.max(e,(t-r)/1e3*this._cacheHeuristic)}return e}timeToLive(){let e=this.maxAge()-this.age(),t=e+n(this._rescc["stale-if-error"]),r=e+n(this._rescc["stale-while-revalidate"]);return 1e3*Math.max(0,e,t,r)}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+n(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+n(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(e){return new this(void 0,void 0,{_fromObject:e})}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||1!==e.v)throw Error("Invalid serialization");this._responseTime=e.t,this._isShared=e.sh,this._cacheHeuristic=e.ch,this._immutableMinTtl=void 0!==e.imm?e.imm:864e5,this._status=e.st,this._resHeaders=e.resh,this._rescc=e.rescc,this._method=e.m,this._url=e.u,this._host=e.h,this._noAuthorization=e.a,this._reqHeaders=e.reqh,this._reqcc=e.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(e){this._assertRequestHasHeaders(e);let t=this._copyWithoutHopByHopHeaders(e.headers);if(delete t["if-range"],!this._requestMatches(e,!0)||!this.storable())return delete t["if-none-match"],delete t["if-modified-since"],t;if(this._resHeaders.etag&&(t["if-none-match"]=t["if-none-match"]?`${t["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),t["accept-ranges"]||t["if-match"]||t["if-unmodified-since"]||this._method&&"GET"!=this._method){if(delete t["if-modified-since"],t["if-none-match"]){let e=t["if-none-match"].split(/,/).filter(e=>!/^\s*W\//.test(e));e.length?t["if-none-match"]=e.join(",").trim():delete t["if-none-match"]}}else this._resHeaders["last-modified"]&&!t["if-modified-since"]&&(t["if-modified-since"]=this._resHeaders["last-modified"]);return t}revalidatedPolicy(e,t){if(this._assertRequestHasHeaders(e),this._useStaleIfError()&&(!t||s.has(t.status)))return{modified:!1,matches:!1,policy:this};if(!t||!t.headers)throw Error("Response headers missing");let r=!1;if(void 0!==t.status&&304!=t.status?r=!1:t.headers.etag&&!/^\s*W\//.test(t.headers.etag)?r=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===t.headers.etag:this._resHeaders.etag&&t.headers.etag?r=this._resHeaders.etag.replace(/^\s*W\//,"")===t.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?r=this._resHeaders["last-modified"]===t.headers["last-modified"]:this._resHeaders.etag||this._resHeaders["last-modified"]||t.headers.etag||t.headers["last-modified"]||(r=!0),!r)return{policy:new this.constructor(e,t),modified:304!=t.status,matches:!1};let o={};for(let e in this._resHeaders)o[e]=e in t.headers&&!i[e]?t.headers[e]:this._resHeaders[e];let n=Object.assign({},t,{status:this._status,method:this._method,headers:o});return{policy:new this.constructor(e,n,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}},8755:(e,t,r)=>{"use strict";let s=r(2361),o=r(4404),i=r(5158),n=r(4524),a=Symbol("currentStreamsCount"),l=Symbol("request"),u=Symbol("cachedOriginSet"),h=Symbol("gracefullyClosing"),c=["maxDeflateDynamicTableSize","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","localAddress","path","rejectUnauthorized","minDHSize","ca","cert","clientCertEngine","ciphers","key","pfx","servername","minVersion","maxVersion","secureProtocol","crl","honorCipherOrder","ecdhCurve","dhparam","secureOptions","sessionIdContext"],d=(e,t,r)=>{let s=0,o=e.length;for(;s<o;){let i=s+o>>>1;r(e[i],t)?s=i+1:o=i}return s},f=(e,t)=>e.remoteSettings.maxConcurrentStreams>t.remoteSettings.maxConcurrentStreams,p=(e,t)=>{for(let r of e)r[u].length<t[u].length&&r[u].every(e=>t[u].includes(e))&&r[a]+t[a]<=t.remoteSettings.maxConcurrentStreams&&g(r)},m=(e,t)=>{for(let r of e)t[u].length<r[u].length&&t[u].every(e=>r[u].includes(e))&&t[a]+r[a]<=r.remoteSettings.maxConcurrentStreams&&g(t)},y=({agent:e,isFree:t})=>{let r={};for(let s in e.sessions){let o=e.sessions[s].filter(e=>{let r=e[b.kCurrentStreamsCount]<e.remoteSettings.maxConcurrentStreams;return t?r:!r});0!==o.length&&(r[s]=o)}return r},g=e=>{e[h]=!0,0===e[a]&&e.close()};class b extends s{constructor({timeout:e=6e4,maxSessions:t=1/0,maxFreeSessions:r=10,maxCachedTlsSessions:s=100}={}){super(),this.sessions={},this.queue={},this.timeout=e,this.maxSessions=t,this.maxFreeSessions=r,this._freeSessionsCount=0,this._sessionsCount=0,this.settings={enablePush:!1},this.tlsSessionCache=new n({maxSize:s})}static normalizeOrigin(e,t){return"string"==typeof e&&(e=new URL(e)),t&&e.hostname!==t&&(e.hostname=t),e.origin}normalizeOptions(e){let t="";if(e)for(let r of c)e[r]&&(t+=`:${e[r]}`);return t}_tryToCreateNewSession(e,t){if(!(e in this.queue)||!(t in this.queue[e]))return;let r=this.queue[e][t];this._sessionsCount<this.maxSessions&&!r.completed&&(r.completed=!0,r())}getSession(e,t,r){return new Promise((s,o)=>{Array.isArray(r)?(r=[...r],s()):r=[{resolve:s,reject:o}];let n=this.normalizeOptions(t),c=b.normalizeOrigin(e,t&&t.servername);if(void 0===c){for(let{reject:e}of r)e(TypeError("The `origin` argument needs to be a string or an URL object"));return}if(n in this.sessions){let e;let t=this.sessions[n],s=-1,o=-1;for(let r of t){let t=r.remoteSettings.maxConcurrentStreams;if(t<s)break;if(r[u].includes(c)){let i=r[a];if(i>=t||r[h]||r.destroyed)continue;e||(s=t),i>o&&(e=r,o=i)}}if(e){if(1!==r.length){for(let{reject:e}of r)e(Error(`Expected the length of listeners to be 1, got ${r.length}.
Please report this to https://github.com/szmarczak/http2-wrapper/`));return}r[0].resolve(e);return}}if(n in this.queue){if(c in this.queue[n]){this.queue[n][c].listeners.push(...r),this._tryToCreateNewSession(n,c);return}}else this.queue[n]={};let y=()=>{n in this.queue&&this.queue[n][c]===g&&(delete this.queue[n][c],0===Object.keys(this.queue[n]).length&&delete this.queue[n])},g=()=>{let s=`${c}:${n}`,o=!1;try{let b=i.connect(e,{createConnection:this.createConnection,settings:this.settings,session:this.tlsSessionCache.get(s),...t});b[a]=0,b[h]=!1;let _=()=>b[a]<b.remoteSettings.maxConcurrentStreams,v=!0;b.socket.once("session",e=>{this.tlsSessionCache.set(s,e)}),b.once("error",e=>{for(let{reject:t}of r)t(e);this.tlsSessionCache.delete(s)}),b.setTimeout(this.timeout,()=>{b.destroy()}),b.once("close",()=>{if(o){v&&this._freeSessionsCount--,this._sessionsCount--;let e=this.sessions[n];e.splice(e.indexOf(b),1),0===e.length&&delete this.sessions[n]}else{let e=Error("Session closed without receiving a SETTINGS frame");for(let{reject:t}of(e.code="HTTP2WRAPPER_NOSETTINGS",r))t(e);y()}this._tryToCreateNewSession(n,c)});let w=()=>{if(n in this.queue&&_()){for(let e of b[u])if(e in this.queue[n]){let{listeners:t}=this.queue[n][e];for(;0!==t.length&&_();)t.shift().resolve(b);let r=this.queue[n];if(0===r[e].listeners.length&&(delete r[e],0===Object.keys(r).length)){delete this.queue[n];break}if(!_())break}}};b.on("origin",()=>{b[u]=b.originSet,_()&&(w(),p(this.sessions[n],b))}),b.once("remoteSettings",()=>{if(b.ref(),b.unref(),this._sessionsCount++,g.destroyed){let e=Error("Agent has been destroyed");for(let t of r)t.reject(e);b.destroy();return}b[u]=b.originSet;{let e=this.sessions;if(n in e){let t=e[n];t.splice(d(t,b,f),0,b)}else e[n]=[b]}this._freeSessionsCount+=1,o=!0,this.emit("session",b),w(),y(),0===b[a]&&this._freeSessionsCount>this.maxFreeSessions&&b.close(),0!==r.length&&(this.getSession(c,t,r),r.length=0),b.on("remoteSettings",()=>{w(),p(this.sessions[n],b)})}),b[l]=b.request,b.request=(e,t)=>{if(b[h])throw Error("The session is gracefully closing. No new streams are allowed.");let r=b[l](e,t);return b.ref(),++b[a],b[a]===b.remoteSettings.maxConcurrentStreams&&this._freeSessionsCount--,r.once("close",()=>{if(v=_(),--b[a],!b.destroyed&&!b.closed&&(m(this.sessions[n],b),_()&&!b.closed)){v||(this._freeSessionsCount++,v=!0);let e=0===b[a];e&&b.unref(),e&&(this._freeSessionsCount>this.maxFreeSessions||b[h])?b.close():(p(this.sessions[n],b),w())}}),r}}catch(e){for(let t of r)t.reject(e);y()}};g.listeners=r,g.completed=!1,g.destroyed=!1,this.queue[n][c]=g,this._tryToCreateNewSession(n,c)})}request(e,t,r,s){return new Promise((o,i)=>{this.getSession(e,t,[{reject:i,resolve:e=>{try{o(e.request(r,s))}catch(e){i(e)}}}])})}createConnection(e,t){return b.connect(e,t)}static connect(e,t){t.ALPNProtocols=["h2"];let r=e.port||443,s=e.hostname||e.host;return void 0===t.servername&&(t.servername=s),o.connect(r,s,t)}closeFreeSessions(){for(let e of Object.values(this.sessions))for(let t of e)0===t[a]&&t.close()}destroy(e){for(let t of Object.values(this.sessions))for(let r of t)r.destroy(e);for(let e of Object.values(this.queue))for(let t of Object.values(e))t.destroyed=!0;this.queue={}}get freeSessions(){return y({agent:this,isFree:!0})}get busySessions(){return y({agent:this,isFree:!1})}}b.kCurrentStreamsCount=a,b.kGracefullyClosing=h,e.exports={Agent:b,globalAgent:new b}},5056:(e,t,r)=>{"use strict";let s=r(3685),o=r(5687),i=r(9403),n=r(4524),a=r(2927),l=r(4602),u=r(2368),h=new n({maxSize:100}),c=new Map,d=(e,t,r)=>{t._httpMessage={shouldKeepAlive:!0};let s=()=>{e.emit("free",t,r)};t.on("free",s);let o=()=>{e.removeSocket(t,r)};t.on("close",o);let i=()=>{e.removeSocket(t,r),t.off("close",o),t.off("free",s),t.off("agentRemove",i)};t.on("agentRemove",i),e.emit("free",t,r)},f=async e=>{let t=`${e.host}:${e.port}:${e.ALPNProtocols.sort()}`;if(!h.has(t)){if(c.has(t))return(await c.get(t)).alpnProtocol;let{path:r,agent:s}=e;e.path=e.socketPath;let n=i(e);c.set(t,n);try{let{socket:i,alpnProtocol:a}=await n;if(h.set(t,a),e.path=r,"h2"===a)i.destroy();else{let{globalAgent:t}=o,r=o.Agent.prototype.createConnection;s?s.createConnection===r?d(s,i,e):i.destroy():t.createConnection===r?d(t,i,e):i.destroy()}return c.delete(t),a}catch(e){throw c.delete(t),e}}return h.get(t)};e.exports=async(e,t,r)=>{if(("string"==typeof e||e instanceof URL)&&(e=u(new URL(e))),"function"==typeof t&&(r=t,t=void 0),!Array.isArray((t={ALPNProtocols:["h2","http/1.1"],...e,...t,resolveSocket:!0}).ALPNProtocols)||0===t.ALPNProtocols.length)throw Error("The `ALPNProtocols` option must be an Array with at least one entry");t.protocol=t.protocol||"https:";let i="https:"===t.protocol;t.host=t.hostname||t.host||"localhost",t.session=t.tlsSession,t.servername=t.servername||l(t),t.port=t.port||(i?443:80),t._defaultAgent=i?o.globalAgent:s.globalAgent;let n=t.agent;if(n){if(n.addRequest)throw Error("The `options.agent` object can contain only `http`, `https` or `http2` properties");t.agent=n[i?"https":"http"]}return i&&"h2"===await f(t)?(n&&(t.agent=n.http2),new a(t,r)):s.request(t,r)},e.exports.protocolCache=h},2927:(e,t,r)=>{"use strict";let s=r(5158),{Writable:o}=r(2781),{Agent:i,globalAgent:n}=r(8755),a=r(312),l=r(2368),u=r(1565),h=r(2099),{ERR_INVALID_ARG_TYPE:c,ERR_INVALID_PROTOCOL:d,ERR_HTTP_HEADERS_SENT:f,ERR_INVALID_HTTP_TOKEN:p,ERR_HTTP_INVALID_HEADER_VALUE:m,ERR_INVALID_CHAR:y}=r(9442),{HTTP2_HEADER_STATUS:g,HTTP2_HEADER_METHOD:b,HTTP2_HEADER_PATH:_,HTTP2_METHOD_CONNECT:v}=s.constants,w=Symbol("headers"),E=Symbol("origin"),S=Symbol("session"),x=Symbol("options"),k=Symbol("flushedHeaders"),A=Symbol("jobs"),T=/^[\^`\-\w!#$%&*+.|~]+$/,P=/[^\t\u0020-\u007E\u0080-\u00FF]/;class C extends o{constructor(e,t,r){super({autoDestroy:!1});let s="string"==typeof e||e instanceof URL;if(s&&(e=l(e instanceof URL?e:new URL(e))),"function"==typeof t||void 0===t?(r=t,t=s?e:{...e}):t={...e,...t},t.h2session)this[S]=t.h2session;else if(!1===t.agent)this.agent=new i({maxFreeSessions:0});else if(void 0===t.agent||null===t.agent)"function"==typeof t.createConnection?(this.agent=new i({maxFreeSessions:0}),this.agent.createConnection=t.createConnection):this.agent=n;else if("function"==typeof t.agent.request)this.agent=t.agent;else throw new c("options.agent",["Agent-like Object","undefined","false"],t.agent);if(t.protocol&&"https:"!==t.protocol)throw new d(t.protocol,"https:");let o=t.port||t.defaultPort||this.agent&&this.agent.defaultPort||443,a=t.hostname||t.host||"localhost";delete t.hostname,delete t.host,delete t.port;let{timeout:u}=t;if(t.timeout=void 0,this[w]=Object.create(null),this[A]=[],this.socket=null,this.connection=null,this.method=t.method||"GET",this.path=t.path,this.res=null,this.aborted=!1,this.reusedSocket=!1,t.headers)for(let[e,r]of Object.entries(t.headers))this.setHeader(e,r);!t.auth||"authorization"in this[w]||(this[w].authorization="Basic "+Buffer.from(t.auth).toString("base64")),t.session=t.tlsSession,t.path=t.socketPath,this[x]=t,443===o?(this[E]=`https://${a}`,":authority"in this[w]||(this[w][":authority"]=a)):(this[E]=`https://${a}:${o}`,":authority"in this[w]||(this[w][":authority"]=`${a}:${o}`)),u&&this.setTimeout(u),r&&this.once("response",r),this[k]=!1}get method(){return this[w][b]}set method(e){e&&(this[w][b]=e.toUpperCase())}get path(){return this[w][_]}set path(e){e&&(this[w][_]=e)}get _mustNotHaveABody(){return"GET"===this.method||"HEAD"===this.method||"DELETE"===this.method}_write(e,t,r){if(this._mustNotHaveABody){r(Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();let s=()=>this._request.write(e,t,r);this._request?s():this[A].push(s)}_final(e){if(this.destroyed)return;this.flushHeaders();let t=()=>{if(this._mustNotHaveABody){e();return}this._request.end(e)};this._request?t():this[A].push(t)}abort(){this.res&&this.res.complete||(this.aborted||process.nextTick(()=>this.emit("abort")),this.aborted=!0,this.destroy())}_destroy(e,t){this.res&&this.res._dump(),this._request&&this._request.destroy(),t(e)}async flushHeaders(){if(this[k]||this.destroyed)return;this[k]=!0;let e=this.method===v,t=t=>{if(this._request=t,this.destroyed){t.destroy();return}e||u(t,this,["timeout","continue","close","error"]);let r=e=>(...t)=>{this.writable||this.destroyed?this.once("finish",()=>{e(...t)}):e(...t)};t.once("response",r((r,s,o)=>{let i=new a(this.socket,t.readableHighWaterMark);this.res=i,i.req=this,i.statusCode=r[g],i.headers=r,i.rawHeaders=o,i.once("end",()=>{this.aborted?(i.aborted=!0,i.emit("aborted")):(i.complete=!0,i.socket=null,i.connection=null)}),e?(i.upgrade=!0,this.emit("connect",i,t,Buffer.alloc(0))?this.emit("close"):t.destroy()):(t.on("data",e=>{i._dumped||i.push(e)||t.pause()}),t.once("end",()=>{i.push(null)}),this.emit("response",i)||i._dump())})),t.once("headers",r(e=>this.emit("information",{statusCode:e[g]}))),t.once("trailers",r((e,t,r)=>{let{res:s}=this;s.trailers=e,s.rawTrailers=r}));let{socket:s}=t.session;for(let e of(this.socket=s,this.connection=s,this[A]))e();this.emit("socket",this.socket)};if(this[S])try{t(this[S].request(this[w]))}catch(e){this.emit("error",e)}else{this.reusedSocket=!0;try{t(await this.agent.request(this[E],this[x],this[w]))}catch(e){this.emit("error",e)}}}getHeader(e){if("string"!=typeof e)throw new c("name","string",e);return this[w][e.toLowerCase()]}get headersSent(){return this[k]}removeHeader(e){if("string"!=typeof e)throw new c("name","string",e);if(this.headersSent)throw new f("remove");delete this[w][e.toLowerCase()]}setHeader(e,t){if(this.headersSent)throw new f("set");if("string"!=typeof e||!T.test(e)&&!h(e))throw new p("Header name",e);if(void 0===t)throw new m(t,e);if(P.test(t))throw new y("header content",e);this[w][e.toLowerCase()]=t}setNoDelay(){}setSocketKeepAlive(){}setTimeout(e,t){let r=()=>this._request.setTimeout(e,t);return this._request?r():this[A].push(r),this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize}set maxHeadersCount(e){}}e.exports=C},312:(e,t,r)=>{"use strict";let{Readable:s}=r(2781);class o extends s{constructor(e,t){super({highWaterMark:t,autoDestroy:!1}),this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=e,this.connection=e,this._dumped=!1}_destroy(e){this.req._request.destroy(e)}setTimeout(e,t){return this.req.setTimeout(e,t),this}_dump(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())}_read(){this.req&&this.req._request.resume()}}e.exports=o},7484:(e,t,r)=>{"use strict";let s=r(5158),o=r(8755),i=r(2927),n=r(312),a=r(5056);e.exports={...s,ClientRequest:i,IncomingMessage:n,...o,request:(e,t,r)=>new i(e,t,r),get:(e,t,r)=>{let s=new i(e,t,r);return s.end(),s},auto:a}},4602:(e,t,r)=>{"use strict";let s=r(1808);e.exports=e=>{let t=e.host,r=e.headers&&e.headers.host;return(r&&(t=r.startsWith("[")?-1===r.indexOf("]")?r:r.slice(1,-1):r.split(":",1)[0]),s.isIP(t))?"":t}},9442:e=>{"use strict";let t=(t,r,s)=>{e.exports[r]=class extends t{constructor(...e){super("string"==typeof s?s:s(e)),this.name=`${super.name} [${r}]`,this.code=r}}};t(TypeError,"ERR_INVALID_ARG_TYPE",e=>{let t=e[0].includes(".")?"property":"argument",r=e[1],s=Array.isArray(r);return s&&(r=`${r.slice(0,-1).join(", ")} or ${r.slice(-1)}`),`The "${e[0]}" ${t} must be ${s?"one of":"of"} type ${r}. Received ${typeof e[2]}`}),t(TypeError,"ERR_INVALID_PROTOCOL",e=>`Protocol "${e[0]}" not supported. Expected "${e[1]}"`),t(Error,"ERR_HTTP_HEADERS_SENT",e=>`Cannot ${e[0]} headers after they are sent to the client`),t(TypeError,"ERR_INVALID_HTTP_TOKEN",e=>`${e[0]} must be a valid HTTP token [${e[1]}]`),t(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",e=>`Invalid value "${e[0]} for header "${e[1]}"`),t(TypeError,"ERR_INVALID_CHAR",e=>`Invalid character in ${e[0]} [${e[1]}]`)},2099:e=>{"use strict";e.exports=e=>{switch(e){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}},1565:e=>{"use strict";e.exports=(e,t,r)=>{for(let s of r)e.on(s,(...e)=>t.emit(s,...e))}},2368:e=>{"use strict";e.exports=e=>{let t={protocol:e.protocol,hostname:"string"==typeof e.hostname&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,host:e.host,hash:e.hash,search:e.search,pathname:e.pathname,href:e.href,path:`${e.pathname||""}${e.search||""}`};return"string"==typeof e.port&&0!==e.port.length&&(t.port=Number(e.port)),(e.username||e.password)&&(t.auth=`${e.username||""}:${e.password||""}`),t}},2366:(e,t)=>{t.stringify=function e(t){if(void 0===t)return t;if(t&&Buffer.isBuffer(t))return JSON.stringify(":base64:"+t.toString("base64"));if(t&&t.toJSON&&(t=t.toJSON()),t&&"object"==typeof t){var r="",s=Array.isArray(t);r=s?"[":"{";var o=!0;for(var i in t){var n="function"==typeof t[i]||!s&&void 0===t[i];Object.hasOwnProperty.call(t,i)&&!n&&(o||(r+=","),o=!1,s?void 0==t[i]?r+="null":r+=e(t[i]):void 0!==t[i]&&(r+=e(i)+":"+e(t[i])))}return r+(s?"]":"}")}return"string"==typeof t?JSON.stringify(/^:/.test(t)?":"+t:t):void 0===t?"null":JSON.stringify(t)},t.parse=function(e){return JSON.parse(e,function(e,t){return"string"==typeof t?/^:base64:/.test(t)?Buffer.from(t.substring(8),"base64"):/^:/.test(t)?t.substring(1):t:t})}},2067:(e,t,r)=>{"use strict";let s=r(2361),o=r(2366),i=e=>{if(e.adapter||e.uri){let t=e.adapter||/^[^:+]*/.exec(e.uri)[0];return new(r(4380)({redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"}[t]))(e)}return new Map},n=["sqlite","postgres","mysql","mongo","redis","tiered"];class a extends s{constructor(e,{emitErrors:t=!0,...r}={}){if(super(),this.opts={namespace:"keyv",serialize:o.stringify,deserialize:o.parse,..."string"==typeof e?{uri:e}:e,...r},!this.opts.store){let e={...this.opts};this.opts.store=i(e)}if(this.opts.compression){let e=this.opts.compression;this.opts.serialize=e.serialize.bind(e),this.opts.deserialize=e.deserialize.bind(e)}"function"==typeof this.opts.store.on&&t&&this.opts.store.on("error",e=>this.emit("error",e)),this.opts.store.namespace=this.opts.namespace;let s=e=>async function*(){for await(let[t,r]of"function"==typeof e?e(this.opts.store.namespace):e){let e=await this.opts.deserialize(r);if(!this.opts.store.namespace||t.includes(this.opts.store.namespace)){if("number"==typeof e.expires&&Date.now()>e.expires){this.delete(t);continue}yield[this._getKeyUnprefix(t),e.value]}}};"function"==typeof this.opts.store[Symbol.iterator]&&this.opts.store instanceof Map?this.iterator=s(this.opts.store):"function"==typeof this.opts.store.iterator&&this.opts.store.opts&&this._checkIterableAdaptar()&&(this.iterator=s(this.opts.store.iterator.bind(this.opts.store)))}_checkIterableAdaptar(){return n.includes(this.opts.store.opts.dialect)||n.findIndex(e=>this.opts.store.opts.url.includes(e))>=0}_getKeyPrefix(e){return`${this.opts.namespace}:${e}`}_getKeyPrefixArray(e){return e.map(e=>`${this.opts.namespace}:${e}`)}_getKeyUnprefix(e){return e.split(":").splice(1).join(":")}get(e,t){let{store:r}=this.opts,s=Array.isArray(e),o=s?this._getKeyPrefixArray(e):this._getKeyPrefix(e);if(s&&void 0===r.getMany){let e=[];for(let s of o)e.push(Promise.resolve().then(()=>r.get(s)).then(e=>"string"==typeof e?this.opts.deserialize(e):this.opts.compression?this.opts.deserialize(e):e).then(e=>null==e?void 0:"number"==typeof e.expires&&Date.now()>e.expires?this.delete(s).then(()=>void 0):t&&t.raw?e:e.value));return Promise.allSettled(e).then(e=>{let t=[];for(let r of e)t.push(r.value);return t})}return Promise.resolve().then(()=>s?r.getMany(o):r.get(o)).then(e=>"string"==typeof e?this.opts.deserialize(e):this.opts.compression?this.opts.deserialize(e):e).then(r=>null==r?void 0:s?r.map((r,s)=>{if("string"==typeof r&&(r=this.opts.deserialize(r)),null!=r){if("number"==typeof r.expires&&Date.now()>r.expires){this.delete(e[s]).then(()=>void 0);return}return t&&t.raw?r:r.value}}):"number"==typeof r.expires&&Date.now()>r.expires?this.delete(e).then(()=>void 0):t&&t.raw?r:r.value)}set(e,t,r){let s=this._getKeyPrefix(e);void 0===r&&(r=this.opts.ttl),0===r&&(r=void 0);let{store:o}=this.opts;return Promise.resolve().then(()=>{let e="number"==typeof r?Date.now()+r:null;return"symbol"==typeof t&&this.emit("error","symbol cannot be serialized"),t={value:t,expires:e},this.opts.serialize(t)}).then(e=>o.set(s,e,r)).then(()=>!0)}delete(e){let{store:t}=this.opts;if(Array.isArray(e)){let r=this._getKeyPrefixArray(e);if(void 0===t.deleteMany){let e=[];for(let s of r)e.push(t.delete(s));return Promise.allSettled(e).then(e=>e.every(e=>!0===e.value))}return Promise.resolve().then(()=>t.deleteMany(r))}let r=this._getKeyPrefix(e);return Promise.resolve().then(()=>t.delete(r))}clear(){let{store:e}=this.opts;return Promise.resolve().then(()=>e.clear())}has(e){let t=this._getKeyPrefix(e),{store:r}=this.opts;return Promise.resolve().then(async()=>"function"==typeof r.has?r.has(t):void 0!==await r.get(t))}disconnect(){let{store:e}=this.opts;if("function"==typeof e.disconnect)return e.disconnect()}}e.exports=a},2278:e=>{"use strict";e.exports=e=>{let t={};for(let[r,s]of Object.entries(e))t[r.toLowerCase()]=s;return t}},6054:e=>{"use strict";let t=["destroy","setTimeout","socket","headers","trailers","rawHeaders","statusCode","httpVersion","httpVersionMinor","httpVersionMajor","rawTrailers","statusMessage"];e.exports=(e,r)=>{for(let s of new Set(Object.keys(e).concat(t)))s in r||(r[s]="function"==typeof e[s]?e[s].bind(e):e[s])}},9303:(e,t,r)=>{"use strict";e.exports=r(517)},3359:e=>{"use strict";let t=(e,t)=>t.some(t=>t instanceof RegExp?t.test(e):t===e),r=(e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw Error(`Invalid URL: ${e}`);let{type:s,data:o,hash:i}=r.groups,n=s.split(";");i=t?"":i;let a=!1;"base64"===n[n.length-1]&&(n.pop(),a=!0);let l=(n.shift()||"").toLowerCase(),u=[...n.map(e=>{let[t,r=""]=e.split("=").map(e=>e.trim());return"charset"===t&&"us-ascii"===(r=r.toLowerCase())?"":`${t}${r?`=${r}`:""}`}).filter(Boolean)];return a&&u.push("base64"),(0!==u.length||l&&"text/plain"!==l)&&u.unshift(l),`data:${u.join(";")},${a?o.trim():o}${i?`#${i}`:""}`};e.exports=(e,s)=>{if(s={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...s},e=e.trim(),/^data:/i.test(e))return r(e,s);if(/^view-source:/i.test(e))throw Error("`view-source:` is not supported as it is a non-standard protocol");let o=e.startsWith("//");!o&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,s.defaultProtocol));let i=new URL(e);if(s.forceHttp&&s.forceHttps)throw Error("The `forceHttp` and `forceHttps` options cannot be used together");if(s.forceHttp&&"https:"===i.protocol&&(i.protocol="http:"),s.forceHttps&&"http:"===i.protocol&&(i.protocol="https:"),s.stripAuthentication&&(i.username="",i.password=""),s.stripHash?i.hash="":s.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname&&(i.pathname=i.pathname.replace(/(?<!\b(?:[a-z][a-z\d+\-.]{1,50}:))\/{2,}/g,"/")),i.pathname)try{i.pathname=decodeURI(i.pathname)}catch(e){}if(!0===s.removeDirectoryIndex&&(s.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(s.removeDirectoryIndex)&&s.removeDirectoryIndex.length>0){let e=i.pathname.split("/");t(e[e.length-1],s.removeDirectoryIndex)&&(e=e.slice(0,e.length-1),i.pathname=e.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),s.stripWWW&&/^www\.(?!www\.)(?:[a-z\-\d]{1,63})\.(?:[a-z.\-\d]{2,63})$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(s.removeQueryParameters))for(let e of[...i.searchParams.keys()])t(e,s.removeQueryParameters)&&i.searchParams.delete(e);!0===s.removeQueryParameters&&(i.search=""),s.sortQueryParameters&&i.searchParams.sort(),s.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let n=e;return e=i.toString(),s.removeSingleSlash||"/"!==i.pathname||n.endsWith("/")||""!==i.hash||(e=e.replace(/\/$/,"")),(s.removeTrailingSlash||"/"===i.pathname)&&""===i.hash&&s.removeSingleSlash&&(e=e.replace(/\/$/,"")),o&&!s.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),s.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}},7337:(e,t,r)=>{var s=r(4643);function o(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function i(e){var t=function(){if(t.called)throw Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=s(o),e.exports.strict=s(i),o.proto=o(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})})},9192:e=>{"use strict";class t extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}}class r{static fn(e){return(...t)=>new r((r,s,o)=>{t.push(o),e(...t).then(r,s)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((t,r)=>{this._reject=r;let s=e=>{if(!this._isPending)throw Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(e)};return Object.defineProperties(s,{shouldReject:{get:()=>this._rejectOnCancel,set:e=>{this._rejectOnCancel=e}}}),e(e=>{this._isCanceled&&s.shouldReject||(this._isPending=!1,t(e))},e=>{this._isPending=!1,r(e)},s)})}then(e,t){return this._promise.then(e,t)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(this._isPending&&!this._isCanceled){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let e of this._cancelHandlers)e()}catch(e){this._reject(e);return}this._rejectOnCancel&&this._reject(new t(e))}}get isCanceled(){return this._isCanceled}}Object.setPrototypeOf(r.prototype,Promise.prototype),e.exports=r,e.exports.CancelError=t},8597:(e,t,r)=>{var s=r(7337),o=r(4949),i=r(7147),n=function(){},a=/^v?\.0/.test(process.version),l=function(e){return"function"==typeof e},u=function(e,t,r,u){u=s(u);var h=!1;e.on("close",function(){h=!0}),o(e,{readable:t,writable:r},function(e){if(e)return u(e);h=!0,u()});var c=!1;return function(t){if(!h&&!c){if(c=!0,a&&i&&(e instanceof(i.ReadStream||n)||e instanceof(i.WriteStream||n))&&l(e.close))return e.close(n);if(e.setHeader&&l(e.abort))return e.abort();if(l(e.destroy))return e.destroy();u(t||Error("stream was destroyed"))}}},h=function(e){e()},c=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),r=l(t[t.length-1]||n)&&t.pop()||n;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw Error("pump requires two streams per minimum");var s=t.map(function(o,i){var n=i<t.length-1;return u(o,n,i>0,function(t){e||(e=t),t&&s.forEach(h),n||(s.forEach(h),r(e))})});return t.reduce(c)}},4524:e=>{"use strict";class t{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,t){if(this.cache.set(e,t),this._size++,this._size>=this.maxSize){if(this._size=0,"function"==typeof this.onEviction)for(let[e,t]of this.oldCache.entries())this.onEviction(e,t);this.oldCache=this.cache,this.cache=new Map}}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){let t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}delete(e){let t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[e]of this)yield e}*values(){for(let[,e]of this)yield e}*[Symbol.iterator](){for(let e of this.cache)yield e;for(let e of this.oldCache){let[t]=e;this.cache.has(t)||(yield e)}}get size(){let e=0;for(let t of this.oldCache.keys())!this.cache.has(t)&&e++;return Math.min(this._size+e,this.maxSize)}}e.exports=t},9403:(e,t,r)=>{"use strict";let s=r(4404);e.exports=(e={},t=s.connect)=>new Promise((r,s)=>{let o,i=!1,n=async()=>{await l,o.off("timeout",a),o.off("error",s),e.resolveSocket?(r({alpnProtocol:o.alpnProtocol,socket:o,timeout:i}),i&&(await Promise.resolve(),o.emit("timeout"))):(o.destroy(),r({alpnProtocol:o.alpnProtocol,timeout:i}))},a=async()=>{i=!0,n()},l=(async()=>{try{(o=await t(e,n)).on("error",s),o.once("timeout",a)}catch(e){s(e)}})()})},8713:(e,t,r)=>{"use strict";let s=r(2781).Readable,o=r(2278);class i extends s{constructor(e,t,r,s){if("number"!=typeof e)throw TypeError("Argument `statusCode` should be a number");if("object"!=typeof t)throw TypeError("Argument `headers` should be an object");if(!(r instanceof Buffer))throw TypeError("Argument `body` should be a buffer");if("string"!=typeof s)throw TypeError("Argument `url` should be a string");super(),this.statusCode=e,this.headers=o(t),this.body=r,this.url=s}_read(){this.push(this.body),this.push(null)}}e.exports=i},4643:e=>{e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw TypeError("need wrapper function");return Object.keys(t).forEach(function(e){s[e]=t[e]}),s;function s(){for(var e=Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var s=t.apply(this,e),o=e[e.length-1];return"function"==typeof s&&s!==o&&Object.keys(o).forEach(function(e){s[e]=o[e]}),s}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948],()=>r(2682));module.exports=s})();